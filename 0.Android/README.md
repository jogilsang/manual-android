# manual-android
안드로이드 앱의 빠른 제작을 위한 각종 소스 및 템플릿 내용  

## POC
- setting
    - [안드로이드-키-key-MD5-,SHA1,-SHA256-](안드로이드-키-key-MD5-,SHA1,-SHA256)
    - [키해시](키해시)
    - [로그-Log](로그-Log)
    - [AsyncTask](AsyncTask)

- hardware
    - [위치정보-가져오기](위치정보-가져오기)
    - [주소록에서-번호-pick하기](주소록에서-번호-pick하기)
- receiver
    - [안드로이드-receiver-리시버-코드로-등록하기](안드로이드-receiver-리시버-코드로-등록하기)
    - [안드로이드-알람-리시버-alarm-](안드로이드-알람-리시버-alarm)
- api
    - [inputstream-<->-filepath,-인풋스트림,-파일패스](inputstream-<->-filepath,-인풋스트림,-파일패스)
    - [유튜브-썸네일-youtube-thumbnail](유튜브-썸네일-youtube-thumbnail)
    - [유튜브-예제코드](유튜브-예제코드)
    - [유튜브-인탠트-intent-실행](유튜브-인탠트-intent-실행)
    - [유튜브-api-실행](유튜브-api-실행)
    - [안드로이드-다음-API-지도](안드로이드-다음-API-지도)
- Gradle
    - [Gradle 에러](#Gradle-에러)
    - [gradle-default-setting](gradle-default-setting)
    - [build gradle 3.3.0](#build-gradle-3.3.0)
    - Compile
        - [안드로이드 jar lib import 컴파일](#안드로이드-jar-lib-import-컴파일)
- db
    - [NoSQL](NoSQL)
    - [SharedPreferences-get-boolean](SharedPreferences-get-boolean)
    - [안드로이드-postgreSQL](안드로이드-postgreSQL)
    - [안드로이드-아이디-비밀번호-저장-sharedreference-android-](안드로이드-아이디-비밀번호-저장-sharedreference-android)
- implementation
    - [안드로이드 카드뷰](#안드로이드-카드뷰)
    - [glide-글라이드-화질-높이기](glide-글라이드-화질-높이기)
    - [안드로이드-그래프-라이브러리-MPAndroidChart](안드로이드-그래프-라이브러리-MPAndroidChart)
    - [안드로이드-애니메이션-로테이션-android-rotation-animation](안드로이드-애니메이션-로테이션-android-rotation-animation)
    - [jxl-라이브러리-사용법](jxl-라이브러리-사용법)
    - [안드로이드-글라이드-glide](안드로이드-글라이드-glide)
    - [read-excelfile-리드-액셀파일-엑셀파일-읽기-쓰기](read-excelfile-리드-액셀파일-엑셀파일-읽기-쓰기)
    - [POI-액셀-xlsx-excel](POI-액셀-xlsx-excel)
    - [전환-프레임워크,-transition-framework](전환-프레임워크,-transition-framework)
- [액셀-읽기,-쓰기](액셀-읽기,-쓰기)
    - [Zxing-QR코드-바코드-인식-barcode](Zxing-QR코드-바코드-인식-barcode)
    
- view
    - [백터-vector-에러-안드로이드-minsdk-16](백터-vector-에러-안드로이드-minsdk-16)
    - [색깔-소스](색깔-소스)
    - [화면회전,-portrait,-landscape,-rotate,-oncreate](화면회전,-portrait,-landscape,-rotate,-oncreate)
    - [EditText-키보드-내리기,창내리기](EditText-키보드-내리기,창내리기)
    - [ConstraintLayout](#ConstraintLayout)
    - [안드로이드-리소스-테블릿-화면-레이아웃-](안드로이드-리소스-테블릿-화면-레이아웃)
    - [안드로이드-android-scroll-스크롤-리사이클러뷰-리사이클뷰](안드로이드-android-scroll-스크롤-리사이클러뷰-리사이클뷰)
    - [이미지-절대경로-이미지뷰-백그라운드-background-넣기](이미지-절대경로-이미지뷰-백그라운드-background-넣기)
    - [리사이클뷰-recyclerview-동일-간격-그리드뷰-gridlayoutmanager](리사이클뷰-recyclerview-동일-간격-그리드뷰-gridlayoutmanager)
    - [BackPressHandler-뒤로-두번](BackPressHandler-뒤로-두번)
    - [progresss-color-프로그래스바-](progresss-color-프로그래스바)
    - [카드뷰-cardview](카드뷰-cardview)
    - [progress-dialog-진행바-다이얼로그-프로그래스바](progress-dialog-진행바-다이얼로그-프로그래스바)
    - [하단-키보드만-올라오게-하기.-다른-부산물들-안딸려오게](하단-키보드만-올라오게-하기.-다른-부산물들-안딸려오게)
    - [custom-커스텀-seekbar-시크바](custom-커스텀-seekbar-시크바)
    - [안드로이드-스낵바](안드로이드-스낵바)
    - [EazeGraph-chart](EazeGraph-chart)
    - [MPAndroidChart-graph](MPAndroidChart-graph)
    - [페인팅보드-painting-board-펜-쓰기-pentool](페인팅보드-painting-board-펜-쓰기-pentool)
    - [화면-캡쳐-capture-screen](화면-캡쳐-capture-screen)
    - [동그란-버튼](동그란-버튼)
    - [웹뷰-보안이슈](웹뷰-보안이슈)
    - [검색-서치뷰-SearchView](검색-서치뷰-SearchView)
    - [안드로이드-슬라이더-android-slider](안드로이드-슬라이더-android-slider)
    - [collapsinglayout-tablayout-nestedscroll](collapsinglayout-tablayout-nestedscroll)
    - [recyclerview-item-리사이클러뷰-라사이클뷰-아이템-크기-이미지뷰-크기-비율-](recyclerview-item-리사이클러뷰-라사이클뷰-아이템-크기-이미지뷰-크기-비율)
    - [autocomletetextview-edittext-자동완성-](autocomletetextview-edittext-자동완성)
    - [gradient-(그래디언트)](gradient-(그래디언트))
    - [리사이클러뷰-RecyclerView-마지막,최하단-움직이기](리사이클러뷰-RecyclerView-마지막,최하단-움직이기)
    - [TextView-흐르게하기](TextView-흐르게하기)    
    - [아이콘-icon](아이콘-icon)
    - [체크박스,-체크,checkbox](체크박스,-체크,checkbox)
    - [안드로이드-색깔-칼라](안드로이드-색깔-칼라)
    - [안드로이드-메뉴,-툴바](안드로이드-메뉴,-툴바)
    - [안드로이드-백버튼,뒤로가기,-홈버튼](안드로이드-백버튼,뒤로가기,-홈버튼)
    - [화면-세로-전환-코드-portrait-code](화면-세로-전환-코드-portrait-code)
    - [텍스트뷰,-이미지뷰-위에-글씨-](텍스트뷰,-이미지뷰-위에-글씨)
    - [타임-피커(Time-picker)-시간-선택-시계-](타임-피커(Time-picker)-시간-선택-시계)
    - [스피너,-spinner,-텍스트선택리스트](스피너,-spinner,-텍스트선택리스트)
    - [타이틀바-없애기](타이틀바-없애기)
    - [하단-소프트바-없애기](하단-소프트바-없애기)
    - [알림창-배경-alertBuilder-background](알림창-배경-alertBuilder-background)
    - [알림창-선택지-alertBuilder-choice](알림창-선택지-alertBuilder-choice)
    - [edittext-null-error-에디트-텍스트-널-비교-에러-](edittext-null-error-에디트-텍스트-널-비교-에러)
    - [border,-테두리,-경계선,-줄](border,-테두리,-경계선,-줄)
    - [상태바-없애기](상태바-없애기)
    - [svg-vector-변환](svg-vector-변환)
    - [나인패치-작업하기](나인패치-작업하기)
    - [ToggleButton](ToggleButton)
    - [assets,-애셋-폴더만들기](assets,-애셋-폴더만들기)
    - [초기저장,-시작,-스플레시,-intro,-splash](초기저장,-시작,-스플레시,-intro,-splash)
    - [텍스트-사이즈](텍스트-사이즈)
    - [Edittext-focuse-해제](Edittext-focuse-해제)
    - [BottomNavtionView-위아래줄,-밑줄](BottomNavtionView-위아래줄,-밑줄)
    - [플로팅액션버튼-floatingactionbutton](플로팅액션버튼-floatingactionbutton)
- webview
    - [웹뷰 파일 업로드 이미지 업로드](#웹뷰-파일-업로드-이미지-업로드)
    - [안드로이드-웹뷰-자바스크립트](안드로이드-웹뷰-자바스크립트)
    - [웹뷰,-nestedscrollview,-상단툴바,-사라짐,-hide](웹뷰,-nestedscrollview,-상단툴바,-사라짐,-hide)
- resource
    - [raw-file-name-list-러우-파일-이름-리스트](raw-file-name-list-러우-파일-이름-리스트)
- touch
    - [웹뷰 멀티 터치](https://kanais2.tistory.com/296)
- adb
    - [안드로이드 플랫폼 툴 adb](#안드로이드-플랫폼-툴-adb)
- config
    - [안드로이드 스튜디오 색상 변경](#안드로이드-스튜디오-색상-변경)
- permission
    - [공유하기](공유하기)
    - [전화걸기](전화걸기)
    - [퍼미션-여러개](퍼미션-여러개)
    - [와이파이-wifi-체크-변경-권한](와이파이-wifi-체크-변경-권한)
    - [퍼미션-권한(Permission)](퍼미션-권한(Permission))
- util
    - [dp-,px-계산](dp-,px-계산)
- etc
    - [날짜-선택,-글자클릭,-날짜-초이스,-데이트픽커](날짜-선택,-글자클릭,-날짜-초이스,-데이트픽커)
    - [안드로이드-절전모드-해제,-화면-꺼진-상태에서도-실행](안드로이드-절전모드-해제,-화면-꺼진-상태에서도-실행)
    - [공부.....](공부.....)
    - [단축키](단축키)
    - [작업교훈](작업교훈)
    - [아이콘-다운로드-무료](아이콘-다운로드-무료)
    - [아이콘-만들기](아이콘-만들기)
    - [이미지-용량-큰거-다루기,-하드웨어-많이-쓰기](이미지-용량-큰거-다루기,-하드웨어-많이-쓰기)
    - [비디오-캐시-video-cache](비디오-캐시-video-cache)
    - [랜덤-넘버-숫자-random-number-int](랜덤-넘버-숫자-random-number-int)
    - [랜덤스트링-random-string](랜덤스트링-random-string)  
    - [android-bluetooth-안드로이드-블루투스](android-bluetooth-안드로이드-블루투스)
    - [안드로이드-스피치- >-텍스트](안드로이드-스피치- >-텍스트)
    - [안드로이드-텍스트- >-스피치-](안드로이드-텍스트- >-스피치)
    - [스트리밍](스트리밍)
    - [스플레시-소리](스플레시-소리)
    - [build-시간-줄이기](build-시간-줄이기)
    - [byte[]-string-상호변환](byte[]-string-상호변환)
    - [문자열](문자열)
    - [문자열-리소스](문자열-리소스)
    - [같은코드-서로-다른-앱-만들기](같은코드-서로-다른-앱-만들기)
    - [Flavor-공식문서](Flavor-공식문서)
    - [앱-종료하기](앱-종료하기)
    - [잠금화면에서도-액티비티-화면-볼수있는법](잠금화면에서도-액티비티-화면-볼수있는법)
    - [안드로이드-인텐트-값-전달-intent-putextra](안드로이드-인텐트-값-전달-intent-putextra)
    - [RSA-암호화-복호화](RSA-암호화-복호화)
    - [recoding,-file,-uri로-삭제하기](recoding,-file,-uri로-삭제하기)
    - [실시간-시간-받아오기](실시간-시간-받아오기)
- firebase
    - [안드로이드-파이어스토어-쿼리-android-firestore-query](안드로이드-파이어스토어-쿼리-android-firestore-query)
    - [안드로이드-파이어스토어-파이어베이스-랜덤-키-get-key-firebase-firestore](안드로이드-파이어스토어-파이어베이스-랜덤-키-get-key-firebase-firestore)
    - [파이어베이스-스토리지-storage](파이어베이스-스토리지-storage)
    - [안드로이드-파이어스토어-타임스탬프-android-firestore-timestamp](안드로이드-파이어스토어-타임스탬프-android-firestore-timestamp)
    - [파이어베이스-firebase-리스닝-listening-start-stop](파이어베이스-firebase-리스닝-listening-start-stop)
    - [파이어베이스-메세징-firebase-messsasing-단일기기](파이어베이스-메세징-firebase-messsasing-단일기기)
    - [파이어스토어-유틸-연속으로-넣기-수동으로-넣기-util](파이어스토어-유틸-연속으로-넣기-수동으로-넣기-util)  
    - [firebase-firestore-example-sample-friend-eat-파이어베이스-파이어스토어-예제-샘플-플렌들리-이트](firebase-firestore-example-sample-friend-eat-파이어베이스-파이어스토어-예제-샘플-플렌들리-이트)
    - [안드로이드-for-쿼리-거꾸로-firebase-파이어베이스-snapshot](안드로이드-for-쿼리-거꾸로-firebase-파이어베이스-snapshot)
    - [핑거푸시,-pingerpush](핑거푸시,-pingerpush)

## 정리중
- [안드로이드-인탠트-열기-파일-열기-액셀-타입-intent-type](안드로이드-인탠트-열기-파일-열기-액셀-타입-intent-type)
- [string.xml-,-string-array,-스트링배열,-스트링어레이](string.xml-,-string-array,-스트링배열,-스트링어레이)
- [인탠트-이미지-겔러리-경로-가져오기](인탠트-이미지-겔러리-경로-가져오기)
- [키오스크- -](키오스크)
- [FragmentStatePagerAdapter-강추](FragmentStatePagerAdapter-강추)
- [웹뷰-플레이스토어-에러-File-based-XSS-Your-app(s)-are-using-a-WebView-that-is-vulnerable-to-file-based-cross-site-scripting](웹뷰-플레이스토어-에러-File-based-XSS-Your-app(s)-are-using-a-WebView-that-is-vulnerable-to-file-based-cross-site-scripting)


---

## Reference
- [안드로이드 화면 dp px 계산](http://angrytools.com/android/pixelcalc/)
- [안드로이드 블루투스 연동](https://yeolco.tistory.com/80)

---

### Gradle 에러
```
JAVA_LETTER_OR_DIGIT

'com.google.gms:google-services:4.3.2'
'com.google.gms:google-services:4.2.0

ASCII

android.overridePathCheck=true

manifest merged
tools:replace="android:appComponentFactory"
android:appComponentFactory="whateverString"

d8erros
android.enableD8 = false
```

### 안드로이드 카드뷰
```
implementation 'androidx.cardview:cardview:1.0.0'
```

### 안드로이드 플랫폼 툴 adb
```
C:\Users\user\AppData\Local\Android\Sdk\platform-tools
```

### 안드로이드 스튜디오 색상 변경
```
http://color-themes.com/?view=index
```

### 안드로이드 jar lib import 컴파일
```
/* 이곳에 아래와 같이 libs 아래 모든 jar 파일을 컴파일 하도록 설정 하거나 */
compile fileTree(include: ['*.jar'], dir: 'libs')
```

### build gradle 3.3.0
```

buildscript {
    repositories {
        google()
        jcenter()
        maven { url "https://maven.google.com" }
        
    }
    dependencies {
        classpath 'com.android.tools.build:gradle:3.3.0'
        classpath 'com.google.gms:google-services:4.2.0'
    }
}

allprojects {
    repositories {
        google()
        jcenter()
        maven { url "https://maven.google.com" }
        
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}

```

### ConstraintLayout
weight 주는법 :  
https://blog.naver.com/lion_kwon/221271737331  

### 웹뷰 멀티 터치
```
https://kanais2.tistory.com/296
```

### 웹뷰 파일 업로드 이미지 업로드
```
https://g-y-e-o-m.tistory.com/115
```

### SharedPreferences get boolean
```
    public Boolean getIsActive(){

        SharedPreferences pref = context.getSharedPreferences("pref", Activity.MODE_PRIVATE);
        // ON,OFF 여부
        Boolean active =pref.getBoolean("active", false);

        if(active) {
            return true;
        }
        else {
            return false;
        }

    }
```

```

    public void setOn() {

        SharedPreferences pref = context.getSharedPreferences("pref", Activity.MODE_PRIVATE);
        // ON,OFF 여부
        Boolean active = pref.getBoolean("active", false);

        SharedPreferences.Editor editor = pref.edit();

        // 하나 더 추가한다.
        editor.putBoolean("active", true);
        editor.commit();

        setOnOffView();

    }

    public void setOff() {

        SharedPreferences pref = context.getSharedPreferences("pref", Activity.MODE_PRIVATE);
        // ON,OFF 여부
        Boolean active = pref.getBoolean("active", false);

        SharedPreferences.Editor editor = pref.edit();

        // 하나 더 추가한다.
        editor.putBoolean("active", false);
        editor.commit();

        setOnOffView();

    }

```

### read excelfile 리드 액셀파일 엑셀파일 읽기 쓰기
```

        try {

            // 액셀 객체 생성
            WritableWorkbook workbook = Workbook.createWorkbook(newFile);

            // 시트 생성
            // TODO : 시트이름은 오늘날짜

            long time = System.currentTimeMillis();
            SimpleDateFormat dayTime = new SimpleDateFormat("yyyyMMdd");
            String strDayTime = dayTime.format(new Date(time));

            WritableSheet sheet = workbook.createSheet(strDayTime, 0);

            // 셀(Label) 생성
            Label label;

            // 모델크기
            int size = 8;

            // 인덱스는 0,0 부터 시작한다
            // 시작 for문 행 , 나중 for문 열
            for (int i = 0; i < 1; i++) {
                for (int j = 0; j < 8; j++) {
                    // 라벨 방식으로 생성 후  Add
                    label = null;

                    // Model 값 받아오기
                    // 번호
                    // 이름
                    // 직종
                    // 생일
                    // 분류
                    // 미납월수
                    // 전화번호
                    // 주소

                    // i 행, j열
                    switch (j) {
                        case 0:
                            String id = getString(R.string.model_member_1);
                            // input : 행, 렬 값
                            label = new Label(j, i, id);
                            Log.d(TAG, id + " 생성완료");
                            break;

                        case 1:
                            String name = getString(R.string.model_member_2);
                            Log.d(TAG, name + " 생성완료");

                            // input : 행, 렬 값
                            label = new Label(j, i, name);

                            break;

                        case 2:
                            String job = getString(R.string.model_member_3);
                            Log.d(TAG, job + " 생성완료");
                            // input : 행, 렬 값
                            label = new Label(j, i, job);

                            break;

                        case 3:
                            String birth = getString(R.string.model_member_4);
                            Log.d(TAG, birth + " 생성완료");

                            // input : 행, 렬 값
                            label = new Label(j, i, birth);

                            break;

                        case 4:

                            String division = getString(R.string.model_member_5);

                            Log.d(TAG, division + " 생성완료");

                            // input : 행, 렬 값
                            label = new Label(j, i, division);


                            break;

                        case 5:
                            String nonPaymentPerio = getString(R.string.model_member_6);

                            Log.d(TAG, nonPaymentPerio + " 생성완료");

                            // input : 행, 렬 값
                            label = new Label(j, i, nonPaymentPerio);
                            break;

                        case 6:
                            String phone = getString(R.string.model_member_7);

                            Log.d(TAG, phone + " 생성완료");

                            // input : 행, 렬 값
                            label = new Label(j, i, phone);
                            break;

                        case 7:
                            String address = getString(R.string.model_member_8);

                            Log.d(TAG, address + " 생성완료");

                            // input : 행, 렬 값
                            label = new Label(j, i, address);

                            break;

                    }
```
```
 private void readExcelFile(String strDir) {

        try {

            // 코드완료
            Workbook wb = Workbook.getWorkbook(new java.io.File(strDir));

            if (wb != null) {
                Sheet sheet = wb.getSheet(0);   // 시트 불러오기
                if (sheet != null) {
                    int colTotal = sheet.getColumns();    // 전체 컬럼
                    int rowIndexStart = 1;                  // row 인덱스 시작
                    int rowTotal = sheet.getColumn(colTotal - 1).length;

                    StringBuilder sb;
                    for (int row = rowIndexStart; row < rowTotal; row++) {
                        sb = new StringBuilder();

                        //새로운 행이 시작될떄 Member을 만든다

                        Log.d(TAG, String.valueOf(row) + "번쨰 Member 생성");
                        Member member = new Member();

                        for (int col = 0; col < colTotal; col++) {

                            String contents = sheet.getCell(col, row).getContents();
                            sb.append("col" + col + " : " + contents + " , ");

                            // i 행, col열
                            switch (col) {
                                case 0:

                                    member.setId(contents);
                                    break;

                                case 1:
                                    member.setName(contents);

                                    break;

                                case 2:
                                    member.setJob(contents);
                                    break;

                                case 3:
                                    member.setBirth(contents);
                                    break;

                                case 4:

                                    member.setDivision(contents);
                                    break;

                                case 5:
                                    member.setNonPaymentPeriod(contents);
                                    break;

                                case 6:
                                    member.setPhone(contents);
                                    break;

                                case 7:
                                    member.setAddress(contents);
                                    break;

                            }
                            Log.i("test", sb.toString());
                        }

                        importList.add(member);

                    }
                }
            }
        } catch (IOException e) {
            e.printStackTrace();
        } catch (
                BiffException e) {
            e.printStackTrace();
        }


    }
```

### 안드로이드 인탠트 열기 파일 열기 액셀 타입 intent type
그외 여러가지 타입들 :  
https://anditstory.tistory.com/entry/%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C%ED%8C%8C%EC%9D%BC-%EC%97%B0%EA%B2%B0-Intent-setDataAndTypeUri-MimeType  

```
    private void openFIle() {

        Intent i = new Intent(Intent.ACTION_GET_CONTENT);

        // i.setType("application/*");  //여러가지 Type은 아래 표로 정리해두었습니다.
        i.setType("application/vnd.ms-excel");  //여러가지 Type은 아래 표로 정리해두었습니다.
        i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);

        startActivityForResult(i.createChooser(i,"Open"), REQUEST_EXCEL);
        //출처: https://kylblog.tistory.com/22 [ylblog]

    }
```

```
File file = new File(Environment.getExternalStorageDirectory()+ "/filepath/" + filename);
Intent intent = new Intent(Intent.ACTION_VIEW);
intent.setDataAndType(Uri.fromFile(file),"application/vnd.ms-excel");
startActivity(intent);



} else if (fileExtend.equalsIgnoreCase("xls") || fileExtend.equalsIgnoreCase("xlsx")) 
{ fileLinkIntent.setDataAndType(Uri.fromFile(file), "application/vnd.ms-excel");

출처: https://anditstory.tistory.com/entry/안드로이드파일-연결-Intent-setDataAndTypeUri-MimeType [i티스토리]
```


### 파이어베이스 메세징 firebase messsasing 단일기기
```
https://web.postman.co/collections/5922778-ac57714b-e2eb-5abc-d231-6ca5f1a06b53?workspace=e9ce0abd-94b1-4e4d-849e-5eebcf0c7e70#bd2eea26-a13b-b810-781e-ca4f684eab53
```


### 이미지 절대경로 이미지뷰 백그라운드 background 넣기
```
File imgFile = new  File("/sdcard/Images/test_image.jpg");

if(imgFile.exists()){

    Bitmap myBitmap = BitmapFactory.decodeFile(imgFile.getAbsolutePath());

    ImageView myImage = (ImageView) findViewById(R.id.imageviewTest);

    myImage.setImageBitmap(myBitmap);

}
```

### string.xml , string-array, 스트링배열, 스트링어레이
```
String[] jobItems = getResources().getStringArray(R.array.auto_job);
```

### 인탠트 이미지 겔러리 경로 가져오기

비트맵 가져와서 저장하고 파일 패스로 받아와야함
그냥 data.getData()해서 하니까 경로가 안뜸 시@

```
                Intent intent = new Intent();
                intent.setType("image/*");
                intent.setAction(Intent.ACTION_PICK);
                startActivityForResult(Intent.createChooser(intent,"Get Album"), REQUEST_IMAGE_1);
```
```
@Override
    public void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);

        switch (requestCode) {

            // 이미지를 요청했는대
            case REQUEST_IMAGE_1 :

                // 결과가 OK 였다면
                if (resultCode == Activity.RESULT_OK) {
                    try {

                        // URI 가져오기
                        Uri selectedImageUri = data.getData();

                        // 선택한 이미지에서 비트맵 생성
                        InputStream in = context.getContentResolver().openInputStream(selectedImageUri);
                        Bitmap img = BitmapFactory.decodeStream(in);
                        in.close();

                        String path = getString(R.string.app_name);
                        String fileName = "/" + System.currentTimeMillis()+".png";
                        String externalPath = getExternalPath(path);

                        String address = externalPath + fileName;

                        BufferedOutputStream out = null;

                        File dirFile = new File(externalPath);

                        if(!dirFile.isDirectory()){
                            dirFile.mkdirs();
                        }

                        File copyFile = new File(address);
                        
                        // 주소 기반으로 스트림만들기

                        // sendBroadcast를 엘범을 최신화한다.

                        try {

                            copyFile.createNewFile();

                            out = new BufferedOutputStream(new FileOutputStream(copyFile));

                            img.compress(Bitmap.CompressFormat.PNG, 100, out);

                            getActivity().sendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE,
                                    Uri.fromFile(copyFile)));

                            Log.d(TAG, "이미지저장됨");
                            //Toast.makeText(getActivity(), captureMessage, Toast.LENGTH_LONG).show();
                            // 저장되었다는 문구 생성

                            out.close();
                            // 이거때문인가


                        } catch (Exception e) {
                            e.printStackTrace();
                            Log.d(TAG, "에러");
                        }


                        // drawable로 변환
                        Drawable drawable = new BitmapDrawable(img);

                        // 이미지 표시
                        btnImage1.setBackground(drawable);
```


### 안드로이드 리소스 테블릿 화면 레이아웃 

```
dp <-> px 변환  
https://mhwan.tistory.com/33?category=670856  
```

```
Low density Small screens QVGA 240x320 (120dpi):

layout-small-ldpi (240x320)  
layout-small-land-ldpi (320x240)

Low density Normal screens WVGA400 240x400 (x432) (120dpi):

layout-ldpi  (240 x 400 )
layout-land-ldpi  (400 x 240 )

Medium density Normal screens HVGA 320x480 (160dpi):

layout-mdpi (320 x 480 )
layout-land-mdpi (480 x 320 )

Medium density Large screens HVGA 320x480 (160dpi):

layout-large-mdpi (320 x 480 )
layout-large-land-mdpi (480 x 320)

Galaxy Tab ( 240 dpi ):

layout-large  (600 x 1024) 
layout-large-land  (1024 x 600)

High density Normal screens WVGA800 480x800 (x854) (240 dpi):

layout-hdpi (480 x 800)
layout-land-hdpi (800 x 480)

Xoom (medium density large but 1280x800 res) (160 dpi):

layout-xlarge (800 x 1280)
layout-xlarge-land (1280 x 800)
```

### 화면 캡쳐 capture screen




```
  public void capture(View v) {

        v.destroyDrawingCache();
        v.setDrawingCacheEnabled(true);
        v.buildDrawingCache();
        Bitmap captureView = v.getDrawingCache();

        // backup
        // String fileName = getExternalPath(getString(R.string.app_name));
        // String address =  Environment.getExternalStorageDirectory().
        // getAbsolutePath()+"/Negatore/"+System.currentTimeMillis()+".png";

                 String path = getString(R.string.app_name);
                        String fileName = "/" + System.currentTimeMillis()+".png";
                        String externalPath = getExternalPath(path);

                        String address = externalPath + fileName;

                        BufferedOutputStream out = null;

                        File dirFile = new File(externalPath);

                        if(!dirFile.isDirectory()){
                            dirFile.mkdirs();
                        }

                        File copyFile = new File(address);

        // sendBroadcast를 엘범을 최신화한다.

        try {

            copyFile.createNewFile();
            out = new BufferedOutputStream(new FileOutputStream(copyFile));
            captureView.compress(Bitmap.CompressFormat.PNG, 100, out);

            sendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE,
                    Uri.fromFile(copyFile)));

            basicToast(captureMessage);
            //Toast.makeText(getActivity(), captureMessage, Toast.LENGTH_LONG).show();
            // 저장되었다는 문구 생성

            out.close();
            // 이거때문인가


        } catch (Exception e) {
            e.printStackTrace();
        }

    }
```

### 안드로이드 android scroll 스크롤 리사이클러뷰 리사이클뷰
```
<android.support.v7.widget.RecyclerView
        android:id="@+id/document_listview"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_marginBottom="3dp"
        android:layout_marginTop="3dp"
        android:scrollbars="vertical"
        android:scrollbarThumbVertical="@android:color/darker_gray"
        android:scrollbarSize="5dp"
        android:background="@color/activity_bg"
        android:dividerHeight="4dp" />
```

### 작업교훈
1. 이미지파일이 debug 만들떄랑 release 만들떄랑 에러로 인식될 확률이 있음. 파일 확장자는 웬만하면 png고 이름변경으로 바꾸면안됨  
   보내기전에 release 해보기  
2. debug나 release로 파일줄때 내걸로 apk파일 옮겨서 해보기  
3. 웹앱을 만들더라도 permission 항상 주의하자  
4. 웹앱 받을떄 http 인지 https 인지 확인하고받자

### 페인팅보드 painting board 펜 쓰기 pentool
지우기 :  
```
          simpleDrawingView.onClear();
                simpleDrawingView.refreshDrawableState();
                simpleDrawingView.invalidate();
```

링크 :  
https://guides.codepath.com/android/Basic-Painting-with-Views

xml :  
```
            <com.tablet.lazer.view.SimpleDrawingView
                android:id="@+id/simpleDrawingView"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_alignParentLeft="true"
                android:layout_alignParentTop="true"
                android:layout_alignParentRight="true"
                android:layout_alignParentBottom="true"
                />
```

액티비티 :  
```
package com.tablet.lazer.view;

import android.content.Context;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.Path;
import android.graphics.Point;
import android.util.AttributeSet;
import android.view.MotionEvent;
import android.view.View;

import java.util.List;

public class SimpleDrawingView extends View {
    // setup initial color
    private final int paintColor = Color.BLACK;
    // defines paint and canvas
    private Paint drawPaint;
    // stores next circle
    private Path path = new Path();

    public SimpleDrawingView(Context context, AttributeSet attrs) {
        super(context, attrs);
        setFocusable(true);
        setFocusableInTouchMode(true);
        setupPaint();

    }

    public void onClear(){
        path = new Path();
        postInvalidate();
    }


    public void setupPaint() {
        // Setup paint with color and stroke styles
        drawPaint = new Paint();
        drawPaint.setColor(paintColor);
        drawPaint.setAntiAlias(true);
        drawPaint.setStrokeWidth(5);
        drawPaint.setStyle(Paint.Style.STROKE);
        drawPaint.setStrokeJoin(Paint.Join.ROUND);
        drawPaint.setStrokeCap(Paint.Cap.ROUND);
    }

    @Override
    protected void onDraw(Canvas canvas) {
        canvas.drawPath(path, drawPaint);

    }

    @Override
    public boolean onTouchEvent(MotionEvent event) {
        float pointX = event.getX();
        float pointY = event.getY();
        // Checks for the event that occurs
        switch (event.getAction()) {
            case MotionEvent.ACTION_DOWN:
                path.moveTo(pointX, pointY);
                return true;
            case MotionEvent.ACTION_MOVE:
                path.lineTo(pointX, pointY);
                break;
            default:
                return false;
        }
        // Force a view to draw again
        postInvalidate();
        return true;
    }
}
```

### 동그란 버튼
```
<selector xmlns:android="http://schemas.android.com/apk/res/android">
    <item>
        <shape android:shape="rectangle">
            <solid android:color="@color/color_main"/>
            <corners android:radius="10dp" />
            <stroke
                android:width="2dp"
                android:color="@color/google"
                />
        </shape>
    </item>
</selector>
```


### 웹뷰 보안이슈

```
m_webView.setWebViewClient(new WebViewClient() {

   @Override
   public void onReceivedSslError(WebView view, final SslErrorHandler handler, SslError error)
   {
      //super.onReceivedSslError(view, handler, error);
      final AlertDialog.Builder builder = new AlertDialog.Builder(MainActivity.sharedActivity().getContext());
      builder.setMessage("이 사이트의 보안 인증서는 신뢰할 수 없습니다.");
      builder.setPositiveButton("continue", new DialogInterface.OnClickListener() {
         @Override
         public void onClick(DialogInterface dialog, int which) {
            handler.proceed();
         }
      });
      builder.setNegativeButton("cancel", new DialogInterface.OnClickListener() {
         @Override
         public void onClick(DialogInterface dialog, int which) {
            handler.cancel();
         }
      });
      final AlertDialog dialog = builder.create();
      dialog.show();

   });
```

### 이미지 용량 큰거 다루기, 하드웨어 많이 쓰기
        android:largeHeap="true"
	    android:hardwareAccelerated="true"
	       dexOptions {
        javaMaxHeapSize "4g"
    }
       multiDexEnabled true
        vectorDrawables.useSupportLibrary true

### 리사이클뷰 recyclerview 동일 간격 그리드뷰 gridlayoutmanager

https://gist.github.com/yqritc/ccca77dc42f2364777e1

### 안드로이드 웹뷰 자바스크립트
https://biig.tistory.com/59  

### 비디오 캐시 video cache

https://github.com/danikula/AndroidVideoCache

multiDexError :
https://stackoverflow.com/questions/39487666/trying-to-set-multidexapplication-classcastexception  

### 아이콘 icon

https://www.flaticon.com/search?word=rank  

### 알림창 배경 alertBuilder background
```
<style name="MyDialogTheme" parent="Theme.AppCompat.Light.Dialog.Alert">
    <item name="android:background">@color/myColor</item>
</style>

AlertDialog alertDialog = new AlertDialog.Builder(getContext(), R.style.MyDialogTheme)
        ...
        .create();
```

### 키오스크   
정리종결 :  
https://www.andreasschrade.com/2015/02/16/android-tutorial-how-to-create-a-kiosk-mode-in-android/  

홈키,recent 키 :  
https://hackernoon.com/disable-android-home-back-and-active-apps-buttons-f7450dfeddcd  

설정 도와주는 앱 sureLock :  
https://play.google.com/store/apps/details?id=com.gears42.surelock&hl=en  

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

밝기최대  
모든알림해제  

구글 샘플 :  
https://github.com/googlesamples/android-ImmersiveMode  

화면고정 설정 :  
https://support.google.com/nexus/answer/6118421?hl=ko  

몰입모드 공식문서 :   
https://developer.android.com/training/system-ui/immersive#java 

안드로이드 관리 API
https://developers.google.com/android/management/

Gokiosk - 키오스크잠금
https://play.google.com/store/apps/details?id=net.intricare.enterprisedevicekiosklockdown

https://code.i-harness.com/ko-kr/q/10bc8a6

안드로이드 locktask 공식문서 :  
https://developer.android.com/reference/android/app/Activity.html#stopLockTask()

키오스크 만들기 :  
http://wenchaojiang.github.io/blog/realise-Android-kiosk-mode/  

설명 :  
https://www.sureshjoshi.com/mobile/android-kiosk-mode-without-root/

android-homekey-locker  
https://github.com/shaobin0604/Android-HomeKey-Locker/blob/master/HomeLockerSample/src/main/java/io/github/homelocker/app/MainActivity.java

키오스크만들기 :  
https://snow.dog/blog/kiosk-mode-android  

locktest :  
https://developer.android.com/work/dpc/dedicated-devices/lock-task-mode

```
https://www.andreasschrade.com/2015/02/16/android-tutorial-how-to-create-a-kiosk-mode-in-android/

https://stackoverrun.com/ko/q/12645692
```

### glide 글라이드 화질 높이기

```
        //                         Load image
        Glide.with(DetailActivity.this)
                .load(detailUrl)
                .asBitmap()
                .override(Target.SIZE_ORIGINAL, Target.SIZE_ORIGINAL)
                .format(DecodeFormat.PREFER_ARGB_8888)
                .diskCacheStrategy(DiskCacheStrategy.ALL)
                .into(detailImage);
```

listener
```
    Glide.with(this)
            .load("https://raw.githubusercontent.com/bumptech/glide/master/static/glide_logo.png")
            .listener(new RequestListener<Drawable>() {
                @Override
                public boolean onLoadFailed(@Nullable GlideException e, Object model, Target<Drawable> target, boolean isFirstResource) {
                    progressBar.setVisibility(View.GONE);
                    return false;
                }

                @Override
                public boolean onResourceReady(Drawable resource, Object model, Target<Drawable> target, DataSource dataSource, boolean isFirstResource) {
                    progressBar.setVisibility(View.GONE);
                    return false;
                }
            })
            .into(imageView);
```

### 파이어베이스 스토리지 storage
다운로드 (이미지를 레이아웃 배경(Background)설정)
```
       // 배경 가져오기
        docBackgroundRef = mFirestore.collection("background").document("home");
        docBackgroundRef.get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {
            @Override
            public void onComplete(@NonNull Task<DocumentSnapshot> task) {
                if (task.isSuccessful()) {
                    DocumentSnapshot document = task.getResult();
                    if (document.exists()) {
                        Log.d(TAG, "DocumentSnapshot data: " + document.getData());

                        backgroundUrl = document.getData().get("storageUrl").toString();

                        StorageReference httpsReference = mFirestorage.getReferenceFromUrl(backgroundUrl);

                        httpsReference.getDownloadUrl().addOnSuccessListener(new OnSuccessListener<Uri>() {
                            @Override
                            public void onSuccess(Uri uri) {

                                //  File f = new File(getRealPathFromURI(uri));
                                File f = new File(uri.getPath());
                                Drawable d = Drawable.createFromPath(f.getAbsolutePath());
                                activityLayout.setBackground(d);

                            }
                        }).addOnFailureListener(new OnFailureListener() {
                            @Override
                            public void onFailure(@NonNull Exception exception) {
                                // Handle any errors
                            }
                        });

                    } else {
                        Toast.makeText(HomeActivity.this, "서버와 통신에 문제가 발생했습니다", Toast.LENGTH_SHORT).show();
                        Log.d(TAG, "No such document");

                    }
                } else {
                    Toast.makeText(HomeActivity.this, "서버와 통신에 문제가 발생했습니다", Toast.LENGTH_SHORT).show();
                    Log.d(TAG, "get failed with ", task.getException());
                }

            }
        });

```

업로드  
```
    private void uploadLocalFileToFirebase(StorageReference ref, File file) {

        stopProgressLoading();

        // 파일 경로 보내기
        Uri uri = Uri.fromFile(file);
        StorageReference mRef = ref.child(uri.getLastPathSegment());
        UploadTask uploadTask = mRef.putFile(uri);

        // Register observers to listen for when the download is done or if it fails
        uploadTask.addOnFailureListener(new OnFailureListener() {
            @Override
            public void onFailure(@NonNull Exception exception) {
                Log.d(TAG, "업로드 실패");

                // 업로드 실패알림
                Toast.makeText(ScannerResultActivity.this, "업로드에 실패했습니다. 다시 시도해주세요", Toast.LENGTH_LONG).show();

                // 로딩바 멈추기
                stopProgressLoading();

                // Handle unsuccessful uploads
            }
        }).addOnSuccessListener(new OnSuccessListener<UploadTask.TaskSnapshot>() {
            @Override
            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {
                Log.d(TAG, "업로드 성공");
                // taskSnapshot.getMetadata() contains file metadata such as size, content-type, etc.
                // ...
                // 로딩바 멈추기

                // 업로드 실패알림
                Toast.makeText(ScannerResultActivity.this, "서버 업로드에 성공했습니다.", Toast.LENGTH_LONG).show();

                stopProgressLoading();
            }
        });

    }

```

### dp ,px 계산  
```
개발을 하다보면 DP를 PX로 바꿔줘야할 경우가 있다.
안드로이드 레이아웃을 코드 작성 할때 는 DP를 사용할 수가 없기 때문이다.
사용하는 공식은 아래와 같다.

px = dp * 단말 DPI/기본 160
dp = px * 기본 160/단말 DPI
mdpi 지원 단말일 경우 dpi는 160 이므로 1dp 160/160 = 1pixel이 된다.
xxhdpi 지원 단말일 경우, 5dp를 pixel로 계산하면
5dp 480/160 = 15 pixel 이므로 xxhdpi 단말의 5dp는 15pixel이 된다.

https://blog.cracker9.io/2018/03/13/Android_DPI/
```

### 안드로이드 아이디 비밀번호 저장 sharedreference android 

```
public void onCreate(Bundle savedInstanceState) 
 super.onCreate(savedInstanceState);
 
 startActivity(new Intent(this,Loading.class));
 setContentView(R.layout.login);
 
 EditText etId=(EditText)findViewById(R.id.id);
 EditText etPwd=(EditText)findViewById(R.id.password);
 CheckBox etIdSave=(CheckBox)findViewById(R.id.id_save);
 CheckBox etPwdSave=(CheckBox)findViewById(R.id.pwd_save);
 
 etId.requestFocus();
 
 // Activtiy 불러올 시 SharedPreFerences에 저장 되었는  "pref"에서 조건에 맞춰 값을 가져온다 
 SharedPreferences pref=getSharedPreferences("pref",Activity.MODE_PRIVATE);
 String id=pref.getString("id_save", "");
 String pwd=pref.getString("pwd_save", "");
 Boolean chk1=pref.getBoolean("chk1", false);
 Boolean chk2=pref.getBoolean("chk2", false);
 
 if(chk1==true){
    etId.setText(id);
    etIdSave.setChecked(chk1);
    }
  if(chk2==true){
    etPwd.setText(pwd);
    etPwdSave.setChecked(chk2);
    }
}
 
 
// 현재 Activity 나갈 시 패스워드 비밀번호 저장 
public void onStop(){ 
 super.onStop();
 
 SharedPreferences pref = getSharedPreferences("pref", Activity.MODE_PRIVATE); 
 SharedPreferences.Editor editor = pref.edit(); 
 EditText etId=(EditText)findViewById(R.id.id);
 EditText etPwd=(EditText)findViewById(R.id.password);
 CheckBox etIdSave=(CheckBox)findViewById(R.id.id_save);
 CheckBox etPwdSave=(CheckBox)findViewById(R.id.pwd_save);
 
 //SharedPreferences에 각 아이디를 지정하고 EditText 내용을 저장한다.
 editor.putString("id_save", etId.getText().toString());
 editor.putString("pwd_save", etPwd.getText().toString());
 editor.putBoolean("chk1", etIdSave.isChecked());
 editor.putBoolean("chk2", etPwdSave.isChecked());
 
 editor.commit();
}
[출처] [참고소스] 아이디 비밀번호 저장 (ShredPreference)|작성자 사자머리님
```

### progress dialog 진행바 다이얼로그 프로그래스바

```
ProgressDialog progressDialog = new ProgressDialog(this);

progressDialog.setIcon(R.drawable.ic_launcher_foreground);

progressDialog.setTitle("Wait...");

progressDialog.setMessage("Progress Dialog");

progressDialog.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL); // 스타일 설정

progressDialog.setIndeterminate(true); // 진행 상태 표시 (ex : 20 / 100)

progressDialog.show();
progressDialog.();

```

### BackPressHandler 뒤로 두번
```
        // 핸들러선언
        backPressCloseHandler = new BackPressCloseHandler(this);
	
	    @Override
    public void onBackPressed() {
        // 두번 뒤로가기시 종료처리
        backPressCloseHandler.onBackPressed();
    }
```

```
public class BackPressCloseHandler {
    private long backKeyPressedTime = 0;
    private Toast toast;
    private Activity activity;

    public BackPressCloseHandler(Activity context) {
        this.activity = context;
    }

    public void onBackPressed() {
        if (System.currentTimeMillis() > backKeyPressedTime + 2000) {
            backKeyPressedTime = System.currentTimeMillis();
            showGuide();
            return;
        }
        if (System.currentTimeMillis() <= backKeyPressedTime + 2000) {
            activity.finish();
            toast.cancel();
        }
    }

    public void showGuide() {
        toast = Toast.makeText(activity, "\'뒤로\'버튼을 한번 더 \n누르시면 종료됩니다.", Toast.LENGTH_SHORT);
        toast.show();
    }
}

```

### progresss color 프로그래스바 
```
        progressBar.setIndeterminate(true);
        progressBar.getIndeterminateDrawable().setColorFilter(Color.parseColor("#00498c"), PorterDuff.Mode.MULTIPLY);
```

### autocomletetextview edittext 자동완성 
```

   edit_job  = (AutoCompleteTextView)findViewById(R.id.edit_job);
    edit_division  = (AutoCompleteTextView)findViewById(R.id.edit_division);

        String[] jobItems = getResources().getStringArray(R.array.auto_job);
        String[] divisionItems = getResources().getStringArray(R.array.auto_division);

        edit_job.setAdapter(new ArrayAdapter<String>(this,
                android.R.layout.simple_dropdown_item_1line, jobItems));

        edit_division.setAdapter(new ArrayAdapter<String>(this,
                android.R.layout.simple_dropdown_item_1line, divisionItems));
```

### 알림창 선택지 alertBuilder choice

```
public void selectFontAlign() {

        AlertDialog.Builder init_dlg = new AlertDialog.Builder(this);

        // left, right, center
        final String main_q1 = getString(R.string.font_align_center);
        final String main_q2 = getString(R.string.font_align_left);
        final String main_q3 = getString(R.string.font_align_right);

        final CharSequence[] items_dlg = {main_q1
                ,main_q2
                ,main_q3
        };

        init_dlg.setTitle(getString(R.string.font_align_question))
                // 제목 설정

                .setItems(items_dlg, new DialogInterface.OnClickListener(){
                    // 목록 클릭시 설정
                    public void onClick(DialogInterface dialog, int index){
                        showProgressDialog();
                        // index 값 넘겨주면 변경
                        returnAlignFont(index);
                        basicToast(items_dlg[index].toString()+" "+getString(R.string.font_change_message));
                        hideProgressDialog();
                    }
                });

        init_dlg.show();    // 알림창 띄우기

    }

```

### 하단 키보드만 올라오게 하기. 다른 부산물들 안딸려오게
메니페스트 액티비티 안에 android:windowSoftInputMode="adjustPan"  

### 카드뷰 cardview  
```
card_view:contentPadding="16dp"
card_view:cardBackgroundColor="#fff"

출처: https://androcode.tistory.com/19 [ANDRO::CODE]
```

### 파이어스토어 유틸 연속으로 넣기 수동으로 넣기 util

```
    // TODO : nickname 항목 넣어야함
    // TODO : adapter에서 뿌릴떄 username이 아니라 userNickname으로 해야함
    public static Member getSeqence(Context context, int i) {

        Member member = new Member();

        // Cities (first elemnt is 'Any')
        String[] ids = context.getResources().getStringArray(R.array.ids);
        String[] names = context.getResources().getStringArray(R.array.names);
        String[] jobs = context.getResources().getStringArray(R.array.jobs);
        String[] births = context.getResources().getStringArray(R.array.births);
        String[] divisions = context.getResources().getStringArray(R.array.divisions);
        String[] nonPaymentPeriods = context.getResources().getStringArray(R.array.nonpaymentperiods);
        String[] phones = context.getResources().getStringArray(R.array.phones);
        String[] addresss = context.getResources().getStringArray(R.array.addresss);

        // member setting
        member.setId(ids[i]);
        member.setName(names[i]);
        member.setJob(jobs[i]);
        member.setBirth(births[i]);
        member.setDivision(divisions[i]);
        member.setNonPaymentPeriod(nonPaymentPeriods[i]);
        member.setPhone(phones[i]);
        member.setAddress(addresss[i]);

        // member return
        return member;
    }

```

### 랜덤 넘버 숫자 random number int
```

 * @param length 문자열 길이
 * @return 랜덤문자열
 */
private static String getRandomNumber(int length)
{
  StringBuffer buffer = new StringBuffer();
  Random random = new Random();
 
  String chars[] = 
    “0,1,2,3,4,5,6,7,8,9”.split(“,”);
 
  for (int i=0 ; i<length ; i++)
  {
    buffer.append(chars[random.nextInt(chars.length)]);
  }
  return buffer.toString();
}[/code]
[출처] Android 랜덤 문자열 생성 방법(Generate random string)|작성자 우니
```
### edittext null error 에디트 텍스트 널 비교 에러 
String pw = editPW.getText().toString().replaceAll("\\P{Print}","").trim();  

### 안드로이드 스낵바  


implementation 'com.android.support:design:26.1.0'

Snackbar.make(getWindow().getDecorView().getRootView(), "ITPANGPANG", Snackbar.LENGTH_LONG).show();  

출처: https://itpangpang.xyz/183 [ITPangPang]  

### 랜덤스트링 random string
```

 * @param length 문자열 길이
 * @return 랜덤문자열
 */
private static String getRandomString(int length)
{
  StringBuffer buffer = new StringBuffer();
  Random random = new Random();
 
  String chars[] = 
    “a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z”.split(“,”);
 
  for (int i=0 ; i<length ; i++)
  {
    buffer.append(chars[random.nextInt(chars.length)]);
  }
  return buffer.toString();
}[/code]
[출처] Android 랜덤 문자열 생성 방법(Generate random string)|작성자 우니
```

### 파이어베이스 firebase 리스닝 listening start stop

modify :  
```

   public void startListening(Query query, ListenerRegistration listenerRegistration, EventListener<QuerySnapshot> eventListener) {
        // TODO(developer): Implement

        if (query != null && listenerRegistration == null) {
            listenerRegistration = query.addSnapshotListener(eventListener);
        }
    }

    public void stopListening(ListenerRegistration listenerRegistration) {
        
        if (listenerRegistration != null) {
            listenerRegistration.remove();
            listenerRegistration = null;
        }
    }
   

```

original :  
```
    public void startListening() {
        // TODO(developer): Implement

        if (mQuery != null && mRegistration == null) {
            mRegistration = mQuery.addSnapshotListener(this);
        }
    }

    public void stopListening() {
        if (mRegistration != null) {
            mRegistration.remove();
            mRegistration = null;
        }

        mSnapshots.clear();
        notifyDataSetChanged();
    }
```

### FragmentStatePagerAdapter 강추
static으로 fragment와 string 값을 선언하면 파이어스토어 listen 할때 에러가 날수있음
getActivity를 인자로 파이어스토어 listener에 넣지말기
pageradapter 상속함수중 getPosition 을 return_none으로 return 하기

### 안드로이드 인텐트 값 전달 intent putextra

데이터 전달  
```
    @Override
    public void onItemSelected(DocumentSnapshot item) {

        // Go to the details page for the selected restaurant
         Intent intent = new Intent(mContext, NoticeActivity.class);

         Notice notice = item.toObject(Notice.class);

         intent.putExtra(NoticeActivity.VALUE_NOTICE_DATE, notice.getTimestampToString());
         intent.putExtra(NoticeActivity.VALUE_NOTICE_TEXT, notice.getText());
         intent.putExtra(NoticeActivity.VALUE_NOTICE_TITLE, notice.getTitle());

         startActivity(intent);

    }
```
데이터 받기
```
    public static final String VALUE_NOTICE_TEXT = "value_notice_text";
    public static final String VALUE_NOTICE_DATE = "value_notice_date";
    public static final String VALUE_NOTICE_TITLE = "value_notice_title";
    
            // 액티비티 가져오기
        valueMaintext = getIntent().getExtras().getString(VALUE_NOTICE_TEXT);
        if (valueMaintext == null) {
            throw new IllegalArgumentException("Must pass extra " + VALUE_NOTICE_TEXT);
        }

        // Get restaurant ID from extras
        valueDate = getIntent().getExtras().getString(VALUE_NOTICE_DATE);
        if (valueDate == null) {
            throw new IllegalArgumentException("Must pass extra " + VALUE_NOTICE_DATE);
        }

        // Get restaurant ID from extras
        valueTitle = getIntent().getExtras().getString(VALUE_NOTICE_TITLE);
        if (valueTitle == null) {
            throw new IllegalArgumentException("Must pass extra " + VALUE_NOTICE_TITLE);
        }
    
```

### 검색 서치뷰 SearchView

public CutomAutoCompleteTextView editSearch;

editSearch = (CutomAutoCompleteTextView) findViewById(R.id.editSearch);

editSearch.setAdapter(adWord);

```
	    editSearch.setOnEditorActionListener(new TextView.OnEditorActionListener() {

            @Override
            public boolean onEditorAction(TextView textView, int i, KeyEvent keyEvent) {

                // keypad 에서 enter 시행시 Listen하고 동작할 액션을 작성
                String searchData = textView.getText().toString();

		// 텍스트 내용이 비어있지않다면
                if(searchData.isEmpty()){

                    basicToast(getString(R.string.alarm_empty));
                    editSearch.clearFocus();
                    editSearch.setFocusable(false);
                    editSearch.setFocusableInTouchMode(true);
                    editSearch.setFocusable(true);

                    posts.getView().setFocusableInTouchMode(true);
                    posts.getView().requestFocus();

                    return true;
                }

//                 switch (keyEvent.getAction()) {
//
//                     case KeyEvent.ACTION_DOWN:
//
//                         if (i == KeyEvent.KEYCODE_BACK) {
//
//                             editSearch.clearFocus();
//                             editSearch.setFocusable(false);
//                             editSearch.setText("");
//                             editSearch.setFocusableInTouchMode(true);
//                             editSearch.setFocusable(true);
//                             return true;
//
//                         }
//                         break;
//                 }

                switch (i) {


                    case EditorInfo.IME_ACTION_SEARCH:

                        switch(WHAT_IS_ACTIVITY){

                            case SUBJECT_FRAGMENT :

                            case RECENT_FRAGMENT :

                            case MAIN_ACTIVITY :

                                basicToast(searchData + getString(R.string.font_change_message));
                                posts.queryGetText(searchData);

                                break;

                        }

                        break;

                    default:

                        basicToast("it is activated in recents :)");

                        // 기본 엔터키 동작
                        return false;
                }

                // 내용 비우고 다시 이벤트 할수있게 선택
                editSearch.clearFocus();
                editSearch.setFocusable(false);
                editSearch.setText("");
                editSearch.setFocusableInTouchMode(true);
                editSearch.setFocusable(true);

                posts.getView().setFocusableInTouchMode(true);
                posts.getView().requestFocus();

                return true;
                //출처: http://tiann.tistory.com/10 [티앤의 IT월드]
            }
        });

```

xml : 
```
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:weightSum="1"
        android:layout_alignParentTop="true"
        android:background="@color/colorThird"
        android:id="@+id/tab_3_layout_searchedit"
        android:orientation="horizontal"
        >

        <RelativeLayout
            android:layout_weight="1"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            >

            <include
                layout="@layout/main_content_search_edit"
                android:id="@+id/tab_3_searchedit"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:layout_gravity="center_vertical"
                android:layout_margin="10dp"
                />

        </RelativeLayout>

        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="match_parent"
            android:layout_marginLeft="10dp"
            android:layout_marginRight="10dp"
            android:orientation="vertical">

            <ImageView
                android:id="@+id/btn_refresh"
                android:layout_width="wrap_content"
                android:layout_height="match_parent"
                android:layout_gravity="center"
                android:onClick="onToolbarIconClicked"
                android:src="@drawable/ic_rotate"
                />

        </LinearLayout>

    </LinearLayout>


```

customautocompleteTestView :  
```
package com.google.firebase.example.fireeats.view;

import android.content.Context;
import android.graphics.drawable.Drawable;
import android.support.v4.content.ContextCompat;
import android.support.v4.graphics.drawable.DrawableCompat;
import android.support.v7.widget.AppCompatAutoCompleteTextView;
import android.text.Editable;
import android.text.TextWatcher;
import android.util.AttributeSet;
import android.view.MotionEvent;
import android.view.View;

import com.google.firebase.example.fireeats.R;


/**
 * Created by TedPark on 16. 4. 11..
 */

public class CutomAutoCompleteTextView extends AppCompatAutoCompleteTextView implements TextWatcher, View.OnTouchListener, View.OnFocusChangeListener {

    private Drawable searchDrawable;
    private Drawable clearDrawable;
    private OnFocusChangeListener onFocusChangeListener;
    private OnTouchListener onTouchListener;
    private TextWatcher textWatcher;

    public CutomAutoCompleteTextView(final Context context) {
        super(context);
        init();
    }

    public CutomAutoCompleteTextView(final Context context, final AttributeSet attrs) {
        super(context, attrs);
        init();
    }

    public CutomAutoCompleteTextView(final Context context, final AttributeSet attrs, final int defStyleAttr) {
        super(context, attrs, defStyleAttr);
        init();
    }


    @Override
    public void setOnFocusChangeListener(OnFocusChangeListener onFocusChangeListener) {
        this.onFocusChangeListener = onFocusChangeListener;
    }

    @Override
    public void setOnTouchListener(OnTouchListener onTouchListener) {
        this.onTouchListener = onTouchListener;
    }

    @Override
    public void addTextChangedListener(TextWatcher textWatcher) {
        this.textWatcher = textWatcher;
    }

    private void init() {

        Drawable tempDrawable = ContextCompat.getDrawable(getContext(), R.drawable.ic_cancel_black_24dp);
        clearDrawable = DrawableCompat.wrap(tempDrawable);
        DrawableCompat.setTintList(clearDrawable,getHintTextColors());
        clearDrawable.setBounds(0, 0, clearDrawable.getIntrinsicWidth(), clearDrawable.getIntrinsicHeight());

        tempDrawable = ContextCompat.getDrawable(getContext(), R.drawable.ic_search_black_24dp);
        searchDrawable = DrawableCompat.wrap(tempDrawable);
        DrawableCompat.setTintList(searchDrawable,getHintTextColors());
        searchDrawable.setBounds(0, 0, searchDrawable.getIntrinsicWidth(), searchDrawable.getIntrinsicHeight());

        setClearIconVisible(false);


        super.setOnTouchListener(this);
        super.setOnFocusChangeListener(this);
        super.addTextChangedListener(this);
    }


    @Override
    public void onFocusChange(final View view, final boolean hasFocus) {
        if (hasFocus) {
            setClearIconVisible(getText().length() > 0);
        } else {
            setClearIconVisible(false);
        }

        if (onFocusChangeListener != null) {
            onFocusChangeListener.onFocusChange(view, hasFocus);
        }
    }


    @Override
    public boolean onTouch(final View view, final MotionEvent motionEvent) {
        final int x = (int) motionEvent.getX();
        if (clearDrawable.isVisible() && x > getWidth() - getPaddingRight() - clearDrawable.getIntrinsicWidth()) {
            if (motionEvent.getAction() == MotionEvent.ACTION_UP) {
                setError(null);
                setText(null);
            }
            return true;
        }

        if (onTouchListener != null) {
            return onTouchListener.onTouch(view, motionEvent);
        } else {
            return false;
        }

    }

    @Override
    public final void onTextChanged(final CharSequence s, final int start, final int before, final int count) {
        if (isFocused()) {
            setClearIconVisible(s.length() > 0);
        }

        if(textWatcher != null){
            textWatcher.onTextChanged(s, start, before, count);
        }
    }

    @Override
    public void beforeTextChanged(CharSequence s, int start, int count, int after) {
        if(textWatcher != null){
            textWatcher.beforeTextChanged(s, start, count, after);
        }
    }

    @Override
    public void afterTextChanged(Editable s) {
        if(textWatcher != null){
            textWatcher.afterTextChanged(s);
        }
    }


    private void setClearIconVisible(boolean visible) {
        clearDrawable.setVisible(visible, false);
        setCompoundDrawables(searchDrawable, null,
                visible ? clearDrawable : null, null);
    }

}
```

### 안드로이드 슬라이더 android slider  
```
    // image slider
    implementation 'com.squareup.picasso:picasso:2.5.2'
    implementation 'com.nineoldandroids:library:2.4.0'
    implementation 'com.daimajia.slider:library:1.1.5@aar'

    implementation 'com.squareup.retrofit:retrofit:1.9.0'
    implementation 'com.squareup.okhttp:okhttp:2.0.0'
    implementation 'com.squareup.okhttp:okhttp-urlconnection:2.0.0'
```
```
    @Override
    public void onDestroy() {
        sliderShow.stopAutoCycle();
        super.onDestroy();
    }

```

오픈소스 :   
https://github.com/daimajia/AndroidImageSlider  

사용법 : 
https://github.com/daimajia/AndroidImageSlider  
https://github.com/daimajia/AndroidImageSlider/wiki/Start-Using  

코드 :  
https://github.com/daimajia/AndroidImageSlider/tree/master/demo/src/main/java/com/daimajia/slider/demo  

### 웹뷰 플레이스토어 에러 File-based XSS Your app(s) are using a WebView that is vulnerable to file-based cross-site scripting  
구글 관련내용 :  
https://support.google.com/faqs/answer/7668153  

src :  
https://stackoverflow.com/questions/50791306/google-play-warning-your-app-contains-a-file-based-xss-issue-javascript-enable    

xml network_security_config 추가하기  :  
https://developer.android.com/training/articles/security-config 

### 안드로이드 그래프 라이브러리 MPAndroidChart

tip :  
https://snowflake-1117.github.io/2017-09-17/%EC%9C%A0%EC%9A%A9%ED%95%9C-%EC%95%88%EB%93%9C%EB%A1%9C%EC%9D%B4%EB%93%9C- %EC%98%A4%ED%94%88%EC%86%8C%EC%8A%A4-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-MPAndroidChart

### 안드로이드 애니메이션 로테이션 android rotation animation  
이미지파일 자체를 로테이션 하는 소스 :  
https://mainia.tistory.com/2613  

```
    // 이미지 회전 함수
    public Bitmap rotateImage(Bitmap src, float degree) {
         
        // Matrix 객체 생성
        Matrix matrix = new Matrix();
        // 회전 각도 셋팅
        matrix.postRotate(degree);
        // 이미지와 Matrix 를 셋팅해서 Bitmap 객체 생성
        return Bitmap.createBitmap(src, 0, 0, src.getWidth(),
                src.getHeight(), matrix, true);
    }


출처: https://mainia.tistory.com/2613 [녹두장군 - 상상을 현실로]
```

1. res - anim 폴더를 만든다  
2. anim 폴더안에 xml 파일을 만든다.  
3.  
```
	Animation anim = AnimationUtils.loadAnimation(
		getApplicationContext(), // 현재 화면의 제어권자
		R.anim.rotate_anim);    // 설정한 에니메이션 파일
	imageView.startAnimation(anim);
```



로테이션 소스 :    
https://bitsoul.tistory.com/89?category=623707  
https://maenan.tistory.com/18  

### custom 커스텀 seekbar 시크바
```
        <SeekBar
            android:id="@+id/seekbar_stick_2"
            android:layout_width="50dp"
            android:layout_height="match_parent"
            android:thumb="@drawable/thumb_stick"
            android:progress="50"
            android:background="@drawable/bar_stick_horizontal"
            android:progressDrawable="@null"
            android:rotation="270"
            />
```

```
   // thumb 크기를 bar 크기에 맞추기
    public static void setSeekberThumb(final SeekBar seekBar, final Resources res) {
        seekBar.getViewTreeObserver().addOnPreDrawListener(new ViewTreeObserver.OnPreDrawListener() {
            @Override
            public boolean onPreDraw() {

                if (seekBar.getHeight() > 0) {
                    Drawable thumb = res.getDrawable(R.drawable.thumb_stick);
                    int h = seekBar.getMeasuredHeight();
                    int w = h;
                    Bitmap bmpOrg = ((BitmapDrawable) thumb).getBitmap();
                    Bitmap bmpScaled = Bitmap.createScaledBitmap(bmpOrg, w, h, true);
                    Drawable newThumb = new BitmapDrawable(res, bmpScaled);
                    newThumb.setBounds(0, 0, newThumb.getIntrinsicWidth(), newThumb.getIntrinsicHeight());
                    seekBar.setThumb(newThumb);
                    seekBar.getViewTreeObserver().removeOnPreDrawListener(this);
                }
                return true;
            }
        });
    }
```

thumb 크기를 맞춰주기 : 
https://dwfox.tistory.com/51  

세로 :  
https://github.com/h6ah4i/android-verticalseekbar  

### 스트리밍  
  
rtmp  

### 스플레시 소리
서비스 만들어서 쓰기 :  
https://stackoverflow.com/questions/21043059/play-background-sound-in-android-applications/21043243#21043243  

그냥 쓰기 :  
https://stackoverflow.com/questions/15314740/android-sound-not-playing-in-splash-screen  

### 안드로이드 파이어스토어 쿼리 android firestore query
문서가 추가되거나 삭제되어야만 갱신됨. 문서 필드값 수정한다고 바뀌지않음.
프래그먼트 뷰페이저 내에서 다시 왔다갔다해버리면, queryDocumentSnapshots이 0이되어버림
그러므로 viewpager 로 가서 destroyItem을 없애버려서 oncreate를 다시 안하게하면됨...
문서와 마찬가지로 get() 대신 onSnapshot()을 사용하여 쿼리 결과를 수신 대기할 수 있습니다.

addSnapshotListener(getActivity(), new EventListener<QuerySnapshot>()

컬렉션에 도큐먼트에 컬렉션 추가하기  
컬렉션 도큐먼트 컬렉션 도큐먼트 추가하기  
collection -> document -> collection -> document  
```
   private void addCollectionToDocument(String collection){

        final CollectionReference productRef = mFirestore.collection(collection);

        // 쿼리 선언
        Query mQuery = productRef.orderBy("order", Query.Direction.ASCENDING);

        // 리스너 세팅
        EventListener<QuerySnapshot> listener = new EventListener<QuerySnapshot>() {
            @Override
            public void onEvent(@javax.annotation.Nullable QuerySnapshot queryDocumentSnapshots, @javax.annotation.Nullable FirebaseFirestoreException e) {

                if (e != null) {
                    e.printStackTrace();
                    Log.d(TAG, "Error getting documents: ");
                    return;
                }

                // TODO : java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
                if(queryDocumentSnapshots.getDocuments().size() == 0) {
                    // Add a new sent message to the list.
                    Log.d(TAG, "Empty documents ");
                }
                else {

                    // querysnapshot 받아오기
                    for (DocumentSnapshot documentSnapshot : queryDocumentSnapshots) {

                        // point model로 받기
                        Product item = documentSnapshot.toObject(Product.class);
                        String id = documentSnapshot.getId();

                        CollectionReference detailRef = productRef.document(id).collection("detail");

                        for( int i =0 ; i < 5 ; i ++) {

                            Detail detail = ItemSequenceUtil.getStaticDetail(UtilActivity.this,i+1);

                            // model -> entri
                            detailRef.add(detail);
                            Log.d(TAG, String.valueOf(i+1)+"번쨰 insert");

                        }

                    }

                }


            }
        };

        ListenerRegistration registration = mQuery.addSnapshotListener(listener);

        startListening(mQuery,registration,listener);


    }
```

document key 얻기  
쿼리로 얻기 예시 : customers 콜렉션에서 userId 값을 갖는 document의 key값을 얻는다  
```
        mQuery = mFirestore.collection("customers").whereEqualTo("userId", uid);
        
        mQuery.addSnapshotListener(getActivity(), new EventListener<QuerySnapshot>() {
            @Override
            public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {

                if( e != null) {
                    e.printStackTrace();
                    return;
                }

                for(DocumentSnapshot documentSnapshot : queryDocumentSnapshots.getDocuments()) {
                    mQueryResult = mQueryResult + documentSnapshot.getId();
                }

                documentID.setText(mQueryResult);

            }
        });
```
```
       CollectionReference customers = mFirestore.collection("customers");

       customers.whereEqualTo("userId", uid).get().addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {
           @Override
           public void onComplete(@NonNull Task<QuerySnapshot> task) {
               // 작업이 성공했다면
               if(task.isSuccessful()) {
                   for(QueryDocumentSnapshot document : task.getResult()) {
                         Log.d(TAG, document.getId() + " => " + document.getData());
                    }
                } else {
                    Log.d(TAG, "Error getting documents: ", task.getException());
                }
           }
       });
```

최근 5개 항목 쿼리하기 (addSnapshotListener 사용)
- queryDocumentSnapshots.getDocuments().size() == 0 일떄 아무것도 안하는게 중요...
- onCreate 반복되면 값을 못받음. 위에 쿼리랑 관련 있는거같기도하고...위에 쿼리를 addSuccessListenr로 
```
               mQuery_3_Listener = mQuery_3.addSnapshotListener(getActivity(), new EventListener<QuerySnapshot>() {
                    @Override
                    public void onEvent(@Nullable QuerySnapshot queryDocumentSnapshots, @Nullable FirebaseFirestoreException e) {

                        // 쿼리 값은 무조건 하나여야한다.
                        if( e != null) {
                            e.printStackTrace();
                            Log.d(TAG, " e != null");
                            mQueryResult_3 = "error";
                            maxPointQuery5View.setText(mQueryResult_3);
                            return;
                        }

                        if(queryDocumentSnapshots.getDocuments().size() == 0) {
                            //maxPointQuery5View.setText("사이즈가...0?");
                        }
                        else {

                            mQueryResult_3 = "";

                            // 모든 포인트를 구한다
                            for(DocumentSnapshot documentSnapshot1 : queryDocumentSnapshots) {

                                Log.d(TAG, " //모든 포인트를 구한다 안에까지 진입");

                                Point point = documentSnapshot1.toObject(Point.class);
                                mQueryResult_3 = mQueryResult_3 + " " + String.valueOf(point.getPoint());

                            }

                            maxPointQuery5View.setText(mQueryResult_3);

                        }

                    }
                });

```

최근 5개항목 쿼리하기(addOnCompleteListener 사용하기)
- 문서 필드 변경시 업데이트가 안되는듯...?
- 사용할순 있는대 하자는 있는느낌. viewpager ondestroy 안해도 
```
//                mPointsRef.orderBy("point", Query.Direction.DESCENDING).limit(5).get().addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {
//                    @Override
//                    public void onComplete(@NonNull Task<QuerySnapshot> task) {
//
//                        if (task.isSuccessful()) {
//                            for (QueryDocumentSnapshot document : task.getResult()) {
//
//                                Point point = document.toObject(Point.class);
//                                mQueryResult_3 = mQueryResult_3 + " " + String.valueOf(point.getPoint());
//                                Log.d(TAG, document.getId() + " => " + document.getData());
//                            }
//                        } else {
//                            Log.d(TAG, "Error getting documents: ", task.getException());
//                        }
//
//                        maxPointQuery5View.setText(mQueryResult_3);
//
//                    }
//                });
```

문서 1개 가져오기 document get (addOnCompleteListener 사용하기)  
youtube(collection)에 data(doc)의 url(field)에 String value 가져오기  
```
      DocumentReference docRef = mFirestore.collection("youtube").document("data");
        docRef.get().addOnCompleteListener(new OnCompleteListener<DocumentSnapshot>() {
            @Override
            public void onComplete(@NonNull Task<DocumentSnapshot> task) {
                if (task.isSuccessful()) {
                    DocumentSnapshot document = task.getResult();
                    if (document.exists()) {
                        Log.d(TAG, "DocumentSnapshot data: " + document.getData());
                        urlYouTube = document.getData().get("url").toString();

                    } else {
                        Log.d(TAG, "No such document");
                        urlYouTube = "0BC10orcsaY";

                    }
                } else {
                    Log.d(TAG, "get failed with ", task.getException());
                    urlYouTube = "0BC10orcsaY";
                }
```

문서 1개 쿼리하기 document query
```

                    // 쿼리 선언
                    Query mQuery = membersRef.whereEqualTo("id", getID).whereEqualTo("division", "조합원").limit(1);

                    // 리스너 세팅
                    EventListener<QuerySnapshot> listener = new EventListener<QuerySnapshot>() {
                        @Override
                        public void onEvent(@javax.annotation.Nullable QuerySnapshot queryDocumentSnapshots, @javax.annotation.Nullable FirebaseFirestoreException e) {

                            if (e != null) {
                                e.printStackTrace();
                                Log.d(TAG, "Error getting documents: ");
                                return;
                            }

                            // TODO : java.lang.IndexOutOfBoundsException: Index: 0, Size: 0
                            if(queryDocumentSnapshots.getDocuments().size() == 0) {
                                // Add a new sent message to the list.
                                Check item = new Check(getID, "사용자 정보 없음");
                                itemList.add(item);
                            }
                            else {

                                // document에 대한 snapshot을 가져온다
                                DocumentSnapshot documentSnapshot = queryDocumentSnapshots.getDocuments().get(0);
                                Member member = documentSnapshot.toObject(Member.class);

                                // Add a new sent message to the list.
                                Check item = new Check(getID, member.getName());

                                itemList.add(item);
                                Log.d(TAG, documentSnapshot.getId() + " => " + documentSnapshot.getData());

                            }

                            mAdapter.notifyDataSetChanged();

                        }
                    };

                    ListenerRegistration registration = mQuery.addSnapshotListener(listener);

                    startListening(mQuery,registration,listener);
```



### 안드로이드 파이어스토어 파이어베이스 랜덤 키 get key firebase firestore
```
        CollectionReference customers = mFirestore.collection("customers");
        customer.setUserId(customers.document().getId());
```

### 상태바 없애기
```
      getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,
                WindowManager.LayoutParams.FLAG_FULLSCREEN);
```
### 타이틀바 없애기
```
    <style name="apptheme_noactionbar">
        <item name="windowActionBar">false</item>
        <item name="windowNoTitle">true</item>
    </style>
    
    android:theme="@android:style/Theme.NoTitleBar">
    
```
### 하단 소프트바 없애기
```
    public void hideBottomSoftKey(){
        int uiOptions = getWindow().getDecorView().getSystemUiVisibility();
        int newUiOptions = uiOptions;
        boolean isImmersiveModeEnabled = ((uiOptions | View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY) == uiOptions);
        if (isImmersiveModeEnabled) {
            Log.i("Is on?", "Turning immersive mode mode off. ");
        } else {
            Log.i("Is on?", "Turning immersive mode mode on.");
        }
        // 몰입 모드를 꼭 적용해야 한다면 아래의 3가지 속성을 모두 적용시켜야 합니다
        newUiOptions ^= View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;
        newUiOptions ^= View.SYSTEM_UI_FLAG_FULLSCREEN;
        newUiOptions ^= View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY;
        getWindow().getDecorView().setSystemUiVisibility(newUiOptions);

    }
```

### 안드로이드 글라이드 glide
인터넷 이미지  
```
    implementation 'com.github.bumptech.glide:glide:3.7.0'
```

```
            // Load image
            // Glide.with(imageView.getContext())
            //         .load(restaurant.getPhoto())
            //         .into(imageView);
 ```
 
로컬 이미지  
```
             // 신궁
             Glide.with(rankImageView.getContext())
                     .load(context.getResources().getDrawable(R.drawable.chevron_11))
                     .into(rankImageView);
```

### 안드로이드 파이어스토어 타임스탬프 android firestore timestamp
설정법
```
           titleView.setText(notice.getTitle());

            Timestamp timestamp = snapshot.getTimestamp("timestamp");
            java.util.Date date = timestamp.toDate();

            // 데이터 포맷
            DateFormat df = new SimpleDateFormat(
                    "yyyy년 MM월 dd일");
            TimeZone time = TimeZone.getTimeZone("Asia/Seoul");
            df.setTimeZone(time);
            String str = df.format(date);

            dateView.setText(str);
            // dateView.setText(date.toString());
```
timestamp -> String 
```
        public String getTimestampToString(final Timestamp timestamp){

            java.util.Date date = timestamp.toDate();

            // 데이터 포맷
            DateFormat df = new SimpleDateFormat(
                    "yyyy년 MM월 dd일");
            TimeZone time = TimeZone.getTimeZone("Asia/Seoul");
            df.setTimeZone(time);
            String str = df.format(date);

            return str;

        }
```

timestamp -> integer (되는지 모름)
```
    public int getTimestampToInt(final Timestamp timestamp){

        java.util.Date date = timestamp.toDate();

        // 데이터 포맷
        DateFormat df = new SimpleDateFormat(
                "yyyyMMdd");
        TimeZone time = TimeZone.getTimeZone("Asia/Seoul");
        df.setTimeZone(time);
        String str = df.format(date);

        int value = Integer.parseInt(str);

        return value;
    }
```

### raw file name list 러우 파일 이름 리스트
```
url:   
http://naminsik.com/blog/3654  

public int getRawResIdByName(String resName) {
      String pkgName = this.getPackageName();
      // Return 0 if not found.
      int resID = this.getResources().getIdentifier(resName, "raw", pkgName);
      Log.i("AndroidVideoView", "Res Name: " + resName + "==> Res ID = " + resID);
      return resID;
   }

int id = getRawResIdByName('mytestmovie');  
Uri video = Uri.parse("android.resource://" + getPackageName() + "/" + id);  
```
미디어플레이어 설정 :  
```
private void initMediaPlayer() {
    mediaPlayer = new MediaPlayer();
    mediaPlayer = MediaPlayer.create(
            MediaPlayActivity.this, R.raw.media);
    stateMediaPlayer = STATE_NOTSTARTER;
    txtState.setText("- 실행전 -");
}


출처: http://mainia.tistory.com/1581 [녹두장군 - 상상을 현실로]
```

### 안드로이드 postgreSQL  

https://www.dev2qa.com/use-jdbc-to-connect-postgresql-database/  
https://www.pgcon.org/2011/schedule/attachments/194_pgcon2011-pgdroid.pdf  


### firebase firestore example sample friend eat 파이어베이스 파이어스토어 예제 샘플 플렌들리 이트
src :  
https://codelabs.developers.google.com/codelabs/firestore-android/index.html#0  


서브콜렉션  
```
1. 기존 콜렉션 문서의 ref에 collection("")을 만든다음, document()로 키값을 넣는다  
2.  //transaction을 실행하고, 기존 ref의 값을 model로 받고, 새롭게 넣을려는 model을 연산해서  
    final DocumentReference ratingRef = restaurantRef.collection("ratings").document();  
    // 아래처럼 데이터를 받아온다.  
    Restaurant restaurant = transaction.get(restaurantRef).toObject(Restaurant.class);  
    // 아래처럼 트랜잭션을 적용한다  
    transaction.set(restaurantRef, restaurant);, transaction.set(ratingRef, rating) 같은 방식으로 한다.  
```
    
    
규칙  
```
service cloud.firestore {
  match /databases/{database}/documents {
        // Restaurants:
        //   - Authenticated user can read
        //   - Authenticated user can create/update (for demo)
        //   - Validate updates
        //   - Deletes are not allowed
    match /restaurants/{restaurantId} {
      allow read, create: if request.auth != null;
      allow update: if request.auth != null
                    && request.resource.data.name == resource.data.name
      allow delete: if false;
      
      // Ratings:
      //   - Authenticated user can read
      //   - Authenticated user can create if userId matches
      //   - Deletes and updates are not allowed
      match /ratings/{ratingId} {
        allow read: if request.auth != null;
        allow create: if request.auth != null
                      && request.resource.data.userId == request.auth.uid;
        allow update, delete: if false;
        
        }
    }
  }
}
```

```
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
```

```
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if false;
    }
  }
}
```

### android bluetooth 안드로이드 블루투스
블루투스 코딩 :  
https://yeolco.tistory.com/80  

프로토콜 종류 :   
https://dsnight.tistory.com/13   

### collapsinglayout tablayout nestedscroll
```
<android.support.design.widget.CoordinatorLayout
    xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    >

    <!- android:theme="@style/ThemeOverlay.AppCompat.Dark"- >

    <android.support.design.widget.AppBarLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:clipChildren="false"
        app:elevation="0dp">

        <android.support.design.widget.CollapsingToolbarLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:minHeight="0dp"
            app:layout_scrollFlags="scroll|enterAlways|snap"
            android:clipChildren="false"
            app:titleEnabled="false">

            <!- app:popupTheme="@style/ThemeOverlay.AppCompat.Dark"- >

            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="vertical">

                <android.support.v7.widget.Toolbar
                    android:id="@+id/toolbar"
                    android:layout_width="match_parent"
                    android:layout_height="56dp"
                    android:minHeight="@dimen/common_row_height"
                    android:paddingLeft="@dimen/common_margin_medium"
                    android:paddingRight="@dimen/common_margin_medium"
                    app:contentInsetStart="0dp"
                    app:layout_collapseMode="pin"
                    />

                <android.support.design.widget.TabLayout
                    android:id="@+id/tabLayout"
                    android:layout_width="match_parent"
                    android:layout_height="48dp"
                    android:layout_gravity="bottom"
                    app:tabMode="scrollable" />

            </LinearLayout>



        </android.support.design.widget.CollapsingToolbarLayout>

    </android.support.design.widget.AppBarLayout>

    <android.support.v4.view.ViewPager
        android:id="@+id/pager"
        android:layout_width="fill_parent"
        android:layout_height="fill_parent"
        app:layout_behavior="@string/appbar_scrolling_view_behavior" />

</android.support.design.widget.CoordinatorLayout>
```

### recyclerview item 리사이클러뷰 라사이클뷰 아이템 크기 이미지뷰 크기 비율 
```
itemImage.setImageResource(R.drawable.img_20181208_1_005);

<!-  A CardView that contains a TextView - >
<RelativeLayout xmlns:card_view="http://schemas.android.com/apk/res-auto"
    xmlns:android="http://schemas.android.com/apk/res/android"
    android:id="@+id/card_view"
    android:layout_width="match_parent"
    android:layout_height="wrap_content"
    android:layout_margin="8dp">


        <ImageView
            android:id="@+id/item_image"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:adjustViewBounds="true"
            />

        <TextView
            android:layout_below="@id/item_image"
            android:id="@+id/item_date"
            android:layout_marginLeft="10dp"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:paddingBottom="10dp"
            />


</RelativeLayout>
```

### 아이콘 다운로드 무료
https://icon-icons.com/ko/  

### 아이콘 만들기

포토샵강좌 : http://blog.naver.com/PostView.nhn?blogId=godwings&logNo=220558432104&parentCategoryNo=&categoryNo=56&viewDate=&isShowPopularPosts=false&from=postView  
사이트 : http://icon.angrymarmot.org/  

### 와이파이 wifi 체크 변경 권한
http://kylblog.tistory.com/43  

### 화면 세로 전환 코드 portrait code  
setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);  

### POI 액셀 xlsx excel
버전 3.13 쓰자. 최신버전 쓰지말고..  
https://archive.apache.org/dist/poi/release/bin/  

STRING FOMULA ...  
source :  
http://javaslave.tistory.com/78  

### Zxing QR코드 바코드 인식 barcode
old: 
http://iw90.tistory.com/276   

new : 
https://dwfox.tistory.com/79  

original :  
https://github.com/journeyapps/zxing-android-embedded/blob/master/README.md  

sample code :  
https://github.com/dolsanta/CustomZxingTest.git  

```
compile 'com.journeyapps:zxing-android-embedded:3.2.0@aar'
compile 'com.google.zxing:core:3.2.1'
```

```
AZTEC
CODE_128
CODE_39
CODE_93
CODABAR
DATA_MATRIX
EAN_13
EAN_8
ITF
PDF417
QR_CODE
UPC_A
UPC_E
```

### 잠금화면에서도 액티비티 화면 볼수있는법
액티비티 시작부분에 아래 코드를 집어넣는다  
```
        // 잠금화면 위에서도 사용할수있게
        getWindow().addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON
                | WindowManager.LayoutParams.FLAG_DISMISS_KEYGUARD
                | WindowManager.LayoutParams.FLAG_TURN_SCREEN_ON
                | WindowManager.LayoutParams.FLAG_SHOW_WHEN_LOCKED);
```
### 안드로이드 for 쿼리 거꾸로 firebase 파이어베이스 snapshot

```
        int size = queryDocumentSnapshots.size();

        for ( int i = size - 1  ; i >= 0 ;  i-  ) {

            // 데이터 거꾸로 받기
            DocumentSnapshot documentSnapshot = queryDocumentSnapshots.getDocuments().get(i);
            
            // point model로 받기
            Point point = documentSnapshot.toObject(Point.class);

            // timestamp -> String 변환
            Timestamp timestamp = documentSnapshot.getTimestamp("timestamp");

            // model -> entri
            chart.addBar(new BarModel(getTimestampToString(timestamp), (float)point.getPoint(), 0xFF56B7F1));

        }
```

### EazeGraph chart
https://github.com/blackfizz/EazeGraph  

```
    <org.eazegraph.lib.charts.ValueLineChart
        android:id="@+id/tab_4_chart_max_point_5"
        android:layout_below="@+id/tab_4_title_max_point_5"

        android:layout_width="match_parent"
        android:layout_height="200dp"
        android:layout_marginLeft="10dp"
        android:layout_marginRight="10dp"
        android:layout_marginTop="15dp"
        android:padding="10dp"

        app:egUseCubic="true"
        app:egUseOverlapFill="true"
        app:egCurveSmoothness="0.4"
        app:egIndicatorLineColor="#FE6DA8"
        app:egLegendHeight="40dp"
        app:egShowStandardValue="true"/>
```

```
   public void setValueLineChart(ValueLineChart chart, QuerySnapshot queryDocumentSnapshots){

        // 시리즈
        ValueLineSeries series = new ValueLineSeries();
        series.setColor(0xFF56B7F1);
        
        // 리스트 선언
        List<ValueLinePoint> entries = new ArrayList<ValueLinePoint>();

        // querysnapshot 받아오기
        for (DocumentSnapshot documentSnapshot : queryDocumentSnapshots) {

            // point model로 받기
            Point point = documentSnapshot.toObject(Point.class);

            // timestamp -> String 변환
            Timestamp timestamp = documentSnapshot.getTimestamp("timestamp");

            // model -> entri
            series.addPoint(new ValueLinePoint(getTimestampToString(timestamp), (float)point.getPoint()));

        }

        chart.addSeries(series);
        chart.startAnimation();

        //        series.addPoint(new ValueLinePoint("Jan", 2.4f));
        //        series.addPoint(new ValueLinePoint("Feb", 3.4f));
        //        series.addPoint(new ValueLinePoint("Mar", .4f));
        //        series.addPoint(new ValueLinePoint("Apr", 1.2f));
        //        series.addPoint(new ValueLinePoint("Mai", 2.6f));
        //        series.addPoint(new ValueLinePoint("Jun", 1.0f));
        //        series.addPoint(new ValueLinePoint("Jul", 3.5f));
        //        series.addPoint(new ValueLinePoint("Aug", 2.4f));
        //        series.addPoint(new ValueLinePoint("Sep", 2.4f));
        //        series.addPoint(new ValueLinePoint("Oct", 3.4f));
        //        series.addPoint(new ValueLinePoint("Nov", .4f));
        //        series.addPoint(new ValueLinePoint("Dec", 1.3f));

    }
```

### MPAndroidChart graph

// MPAndroidChart
implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0-alpha'  
    
```
<com.github.mikephil.charting.charts.LineChart
android:id="@+id/tab_4_chart_max_point_5"
android:layout_below="@+id/tab_4_title_max_point_5"
android:layout_width="match_parent"
android:layout_height="300dp"
android:layout_marginTop="15dp"
android:layout_marginLeft="10dp"
android:layout_marginRight="10dp"
android:layout_marginBottom="20dp"
/>
```

```
    public void setLineChart(LineChart chart, QuerySnapshot queryDocumentSnapshots){

//        // 리스트 선언
//        List<Entry> entries = new ArrayList<Entry>();
//
//        // querysnapshot 받아오기
//        for (DocumentSnapshot documentSnapshot : queryDocumentSnapshots) {
//
//            // point model로 받기
//            Point point = documentSnapshot.toObject(Point.class);
//
//            // model -> entri
//            entries.add(new Entry(getTimestampToInt(documentSnapshot.getTimestamp("timestamp")), point.getPoint()));
//
//        }

        ArrayList<Entry> entries = new ArrayList<>();
        entries.add(new Entry(20180120, 80));
        entries.add(new Entry(20180121, 60));
        entries.add(new Entry(20180122, 30));
        entries.add(new Entry(20180123, 20));
        entries.add(new Entry(20180124, 10));

        LineDataSet dataset = new LineDataSet(entries, "label");
        dataset.setColors(ColorTemplate.COLORFUL_COLORS); //

        LineData data = new LineData(dataset);

        /*dataset.setDrawCubic(true); //선 둥글게 만들기
        dataset.setDrawFilled(true); //그래프 밑부분 색칠*/

        chart.setData(data);
        chart.animateY(5000);
        chart.invalidate();

    }
```

### Reference

Index for Android Open Source Projects  
http://www.java2s.com/Open-Source/Android_Free_Code/  

simplifiedcoding  
https://www.simplifiedcoding.net  

안드로이드 Q&A  
http://www.masterqna.com/android/

Android Cheatsheet for Graphic Designers :  
http://petrnohejl.github.io/Android-Cheatsheet-For-ic-Designers/

Android sample for Developer :  
https://developer.android.com/samples/

The Busy Coder's Guide to Android Development :  
https://commonsware.com/Android/

apps-for-android :  
https://code.google.com/archive/p/apps-for-android/

List of free and open-source Android applications :  
https://en.wikipedia.org/wiki/List_of_free_and_open-source_Android_applications

Google I/O Android App :  
https://github.com/google/iosched

Newly added links :  
http://aopensource.com/

lastfm/lastfm-android :  
https://github.com/lastfm/lastfm-android

### 공부.....

Android 6.0(API 레벨 23)부터 사용자는 앱이 설치될 때가 아니라 앱이 실행되는 중에 앱에 권한을 부여합니다. 이 접근방식에서는 사용자가 앱을 설치하거나 업데이트할 때 권한을 부여할 필요가 없으므로 앱 설치 과정이 간소화됩니다. 또한 사용자가 앱의 기능을 더 세부적으로 제어할 수 있습니다. 예를 들어, 기기 위치가 아니라 카메라에 대한 액세스 권한을 카메라 앱에 부여하도록 선택할 수 있습니다. 사용자는 앱 설정 화면으로 이동하여 언제든지 권한을 취소할 수 있습니다.

### 단축키

ctrl + shift + u : 대문자,소문자 변환  
ctrl + alt + o : import 구문정리  
ctrl + alt + L : 자동정렬  
ctrl + d : 한줄 자동 복사  
ctrl + y : 한줄 자동 삭제  
ctrl + w : 단락선택

### 액셀 읽기, 쓰기
apache poi  
project - open moduls - jxl 검색  

### jxl 라이브러리 사용법

디테일(병합 , 이미지 넣기 등)  
https://m.blog.naver.com/PostView.nhn?blogId=cream_jkh&logNo=20086677790&proxyReferer=https%3A%2F%2Fwww.google.com%2F  

액셀 파일 만들기 :  
https://yongtech.tistory.com/89  

### assets, 애셋 폴더만들기
app 오른쪽 마우스 folder - assets  

### 초기저장, 시작, 스플레시, intro, splash  
SharedPreferences  

### 텍스트 사이즈
 - TextAppearance.Small  : 14
 - TextAppearance.Medium : 18
 - TextAppearance.Large  : 22
 
### 안드로이드 스피치 -> 텍스트  
https://dsnight.tistory.com/15?category=485244  
 
### 안드로이드 텍스트 -> 스피치 

Android Speech To Text Tutorial :  
https://www.androidhive.info/2014/07/android-speech-to-text-tutorial/  

Android Text To Speech Tutorial :  
https://www.androidhive.info/2012/01/android-text-to-speech-tutorial/

```
        // TTS를 생성하고 OnInitListener로 초기화 한다.
        tts = new TextToSpeech(this, new TextToSpeech.OnInitListener() {
            @Override
            public void onInit(int status) {
                if(status != ERROR) {
                    // 언어를 선택한다.
                    tts.setLanguage(Locale.KOREAN);
                }
            }
        });

        button02.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {

                // editText에 있는 문장을 읽는다.
                tts.setPitch(2.0f);         // 음성 톤을 2.0배 올려준다.
                tts.setSpeechRate(1.0f);    // 읽는 속도는 기본 설정
                tts.speak(editText.getText().toString(),TextToSpeech.QUEUE_FLUSH, null);
            }
        });
```

Android Developers An introduction to Text-To-Speech in Android  
23 September 2009 :  
https://android-developers.googleblog.com/2009/09/introduction-to-text-to-speech-in.html  


### 체크박스, 체크,checkbox
```
    <CheckBox
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="Check"
        android:id="@+id/check1"/>


출처: http://recipes4dev.tistory.com/133 [개발자를 위한 레시피]
```

체크 박스 클릭 이벤트 함수에서 선택 상태 알아내기.  
```
    CheckBox checkBox = (CheckBox) findViewById(R.id.check1) ;
    checkBox.setOnClickListener(new CheckBox.OnClickListener() {
        @Override
        public void onClick(View v) {
            if (((CheckBox)v).isChecked()) {
                // TODO : CheckBox is checked.
            } else {
                // TODO : CheckBox is unchecked.
            }
        }
    }) ;


출처: http://recipes4dev.tistory.com/133 [개발자를 위한 레시피]
```

### 안드로이드 색깔 칼라
https://designguidelines.withgoogle.com/wearos/style/color.html#color-dark-color-palette-for-wear-os  

### 텍스트뷰, 이미지뷰 위에 글씨 
```
                    <TextView
                        android:id="@+id/relay_comment"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:layout_centerInParent="true"
                        android:drawableTop="@drawable/ic_comment_white"
                        android:padding="5dp"
                        android:text="@string/relay_button_2"
                        android:textColor="@color/white"
                        tools:text="Comment" />
```

### 타임 피커(Time picker) 시간 선택 시계 
모양이 달라짐  

출처 : https://www.tutlane.com/tutorial/android/android-timepicker-with-examples  
```
 <TimePicker
    android:id="@+id/datePicker1"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:timePickerMode="spinner"/>
```

```
    <LinearLayout
        android:layout_marginTop="20dp"
        android:orientation="vertical"
        android:layout_width="match_parent"
        android:layout_height="match_parent">

        <TimePicker
            android:id="@+id/time_picker"
            android:timePickerMode="spinner"
            android:layout_width="match_parent"
            android:layout_height="match_parent" />

    </LinearLayout>
```

### 스피너, spinner, 텍스트선택리스트
```
        final Spinner s1 = (Spinner) findViewById(R.id.spinner1);
	
         final String [] city = {"서울특별시","인천광역시","부산광역시",
        // 1 city 에 대한 Spinner
        ArrayAdapter adapter = new ArrayAdapter(
                getApplicationContext(), // 현재화면의 제어권자
                android.R.layout.simple_spinner_item, // 레이아웃
                city); // 데이터

        s1.setAdapter(adapter);

출처: https://bitsoul.tistory.com/44 [Happy Programmer~]
```

```
        s.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {
            @Override
            public void onItemSelected(AdapterView<?> parent, View view,
                                       int position, long id) {
                tv.setText("position : " + position +
                        parent.getItemAtPosition(position));
            }
            @Override
            public void onNothingSelected(AdapterView<?> parent) {}
        });


    <Spinner
        android:id="@+id/spinner1"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:entries="@array/city"/>


<?xml version="1.0" encoding="utf-8"?>
<resources>
    <string-array name="city">
        <item >서울</item>
        <item >경기</item>
        <item >부천</item>
        <item >수원</item>
        <item >파주</item>
        <item >부산</item>
        <item >대전</item>
    </string-array>
</resources>


출처: http://bitsoul.tistory.com/43 [Happy Programmer~]

http://bitsoul.tistory.com/43

```

### RSA 암호화 복호화

source :   
http://nine01223.tistory.com/101  

### gradle default setting
```
    compile 'com.android.support:appcompat-v7:27.1.1'
    compile 'com.android.support:customtabs:27.1.1'
    compile "com.android.support:animated-vector-drawable:27.1.1"
    compile 'com.android.support:mediarouter-v7:27.1.1'
    compile 'com.android.support:recyclerview-v7:27.1.1'
    compile 'com.android.support:cardview-v7:27.1.1'
    compile 'com.android.support:design:27.1.1'
```

### border, 테두리, 경계선, 줄
```
border.xml
<?xml version="1.0" encoding="utf-8"?>
<layer-list xmlns:android="http://schemas.android.com/apk/res/android" >

    <item
        android:bottom="1dp"
        android:left="1dp"
        android:right="1dp"
        android:top="1dp">
        <shape android:shape="rectangle" >
            <stroke
                android:width="1dp"
                android:color="@color/colorPrimary" />

            <solid android:color="#FFF" />
        </shape>
    </item>

</layer-list>

출처: http://ellordnet.tistory.com/27 [IT in MT]
```
### byte[] string 상호변환

source : https://frontjang.info/entry/Java-Byte-%EB%B0%B0%EC%97%B4%EA%B3%BC-%EB%B0%94%EC%9D%B4%EB%84%88%EB%A6%AC%EB%AC%B8%EC%9E%90%EC%97%B4-%EC%83%81%ED%98%B8-%EB%B3%80%ED%99%98%ED%95%98%EA%B8%B0  


### 안드로이드 receiver 리시버 코드로 등록하기
```
Manifest 설정

<!-  BroadcastReceiver 액티비티 - >

    <activity android:name.BroadCastReceiverActivity" android:label="" />

     <!-  manifest에 receiver 등록하기

클래스명을 적어준다.- >

        <receiver android:name=".BroadCastReceiverEx">

            <intent-filter>

                <action android:name="mrsohn.samplecode.FIRE"></action>

            </intent-filter>

        </receiver> 

** manifest에 등록 하지 않고 
자바 코드로 BroadcastReceiver 등록할 수도 있다.

 IntentFilter filler = 
         new IntentFilter("mrsohn.samplecode.FIRE"); //BroadcastReceiver의 action 값 

//BroadcastReceiver 클래스 
BroadCastReceiverEx r = new BroadCastReceiverEx();  
//등록하기       
registerReceiver(r, iller);             

//해제할 때는
unregisterReceiver(receiver);
```

### 안드로이드 알람 리시버 alarm 


```
버전별로 다름...
http://citynetc.tistory.com/149
```

```
        <receiver android:name="app.ideansoft.com.mdjplayer.receiver.Alarm_Receiver" >
            <intent-filter>
                <action android:name="android.intent.action.sec" />
            </intent-filter>
        </receiver>
```

```
        this.context = context;

        // intent로부터 전달받은 string
        String get_yout_string = intent.getExtras().getString("state");

        // 작동할 액티비티를 설정한다
        Intent alarmIntent = new Intent("android.intent.action.sec");
        alarmIntent.setClass(context, DownloadActivity.class);
        alarmIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);

        // 액티비티를 띄운다
        this.context.startActivity(alarmIntent);
```

```
알람 리시버 원본코드 : 
http://sh-itstory.tistory.com/64

알람 리시버 액티비티 띄우는 코드 : 
http://yenos.tistory.com/entry/Alarm-Intent-Receiver%EC%97%90%EC%84%9C-Intent%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%B4-%EC%95%8C%EB%9E%8C-%ED%99%94%EB%A9%B4-%EB%9D%84%EC%9A%B0%EA%B8%B0
```

### 안드로이드 절전모드 해제, 화면 꺼진 상태에서도 실행
```
와이파이체크 :
http://kylblog.tistory.com/43

절전모드 wake lock : 
출처: http://cofs.tistory.com/173 [CofS]
```


### 안드로이드 키 key MD5 ,SHA1, SHA256 
디버그(debug) password : android , 릴리즈(Release) password : 본인이 설정한 패스워드  
```
md1, sha1,sha256 :
keytool -list -v -keystore c:\users\user\.android\debug.keystore

java bin :
C:\Program Files\Java\jdk1.8.0_121\bin

facebook : (default)
keytool - exportcert - alias androiddebugkey -keystore ~/.android/debug.keystore | openssl sha1 -binary | openssl base64

facebook : (complete)
c:\users\user\.android\debug.keystore
keytool -exportcert -alias androiddebugkey -keystore c:\Users\user\.android\debug.keystore | C:\OpenSSL-Win64\bin\openssl sha1 -binary | C:\OpenSSL-Win64\bin\openssl base64

openSSL down link : http://slproweb.com/products/Win32OpenSSL.html

C:\openssl-0.9.8k_X64\bin\openssl
```

### 실시간 시간 받아오기
```
// 한국 시간 TimeZone time
Date date = new Date();
DateFormat df = new SimpleDateFormat(
    "yyyy-MM-dd HH:mm:ss");
TimeZone time = TimeZone.getTimeZone("Asia/Seoul");
df.setTimeZone(time);
String str = df.format(date);

//출처: http://mainia.tistory.com/2246 [녹두장군 - 상상을 현실로]
```

```
long time = System.currentTimeMillis();
SimpleDateFormat dayTime = new SimpleDateFormat("yyyy-mm-dd hh:mm:ss");
String str = dayTime.format(new Date(time));
//: http://ra2kstar.tistory.com/123 [초보개발자 이야기.]
```

### 유튜브 썸네일 youtube thumbnail
유튜브 썸네일 뷰 코딩 :  
https://stackoverflow.com/questions/25624454/viewpager-and-youtubeplayer  

이미지 보는법 :  
https://img.youtube.com/vi/nVCubhQ454c/0.jpg  
https://img.youtube.com/vi/nVCubhQ454c/1.jpg  
https://img.youtube.com/vi/nVCubhQ454c/2.jpg  
https://img.youtube.com/vi/nVCubhQ454c/3.jpg  
https://img.youtube.com/vi/nVCubhQ454c/maxresdefault.jpg  
https://img.youtube.com/vi/nVCubhQ454c/sddefault.jpg  
https://img.youtube.com/vi/nVCubhQ454c/hqdefault.jpg  
출처: https://webdir.tistory.com/472 [WEBDIR]  

https://developers.google.com/youtube/android/player/reference/com/google/android/youtube/player/YouTubeThumbnailLoader  

### 유튜브 예제코드  
https://www.programcreek.com/java-api-examples/?class=com.google.android.youtube.player.YouTubePlayer&method=setFullscreenControlFlags  

### 유튜브 인탠트 intent 실행  
```
Intent i = new Intent(Intent.ACTION_VIEW);
i.setData(Uri.parse(SAMPLE_VIDEO_URL));
i.setPackage("com.google.android.youtube"); // 어플리케이션 강제 설정.
startActivity(i);
```

### 유튜브 api 실행
0. jar파일다운 : https://developers.google.com/youtube/android/player/downloads/?hl=ko  (app/libs 폴더만들고)
1. 구글api에서 프로젝트 생성  
2. 사용자 인증정보  
3. 패키지이름과 sha1 key를 집어넣는다  
4. 안드로이드 액티비티를 youtubebaseactivity로 상속받는다  
```
public class YoutubeActivity extends YouTubeBaseActivity {


    YouTubePlayerView youtubeView;
    Button button;
    YouTubePlayer.OnInitializedListener listener;


    @Override

    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_youtube_2);


        button = (Button) findViewById((R.id.youtubeButton));
        youtubeView = (YouTubePlayerView) findViewById(R.id.youtubeView);
        listener = new YouTubePlayer.OnInitializedListener() {

            @Override

            public void onInitializationSuccess(YouTubePlayer.Provider provider, YouTubePlayer youTubePlayer, boolean b) {

                // 비디오 아이디
                youTubePlayer.loadVideo("bOzk0OLz0Jc");

            }


            @Override

            public void onInitializationFailure(YouTubePlayer.Provider provider, YouTubeInitializationResult youTubeInitializationResult) {


            }

        };


        button.setOnClickListener(new View.OnClickListener() {

            @Override

            public void onClick(View view) {

                // api 키 값
                youtubeView.initialize(getString(R.string.google_api_key), listener);

            }

        });


    }

}
```
5. 
```
    <com.google.android.youtube.player.YouTubePlayerView
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:visibility="visible"
        android:layout_centerHorizontal="true"
        android:id="@+id/youtubeView"
        android:layout_alignParentTop="true" />
```

### NoSQL

Firebase Query NoSQL :   
https://www.youtube.com/watch?v=WacqhiI-g_o  

useful :  
https://firebase.googleblog.com/2013/10/queries-part-1-common-sql-queries.html?   utm_campaign=Firebase_featureoverview_education_database_en_11-18-16&utm_source=Firebase&utm_medium=yt-desc  

### 전환 프레임워크, transition framework
https://m.blog.naver.com/PostView.nhn?blogId=horajjan&logNo=220412381797&proxyReferer=https%3A%2F%2Fwww.google.co.kr%2F

### 웹뷰, nestedscrollview, 상단툴바, 사라짐, hide
문제는 웹뷰 다른 영역 들어갔을때 height가 커지면, 그 공백만큼 다른 크기가 작은 웹뷰가 늘어남  
```
<android.support.design.widget.CoordinatorLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="wrap_content">

    <android.support.design.widget.AppBarLayout
        android:id="@+id/appbar"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:theme="@style/ThemeOverlay.AppCompat.Dark.ActionBar">

        <android.support.v7.widget.Toolbar
            android:id="@+id/toolbar"
            android:layout_width="match_parent"
            android:layout_height="?attr/actionBarSize"
            android:background="@color/color_main"
            app:layout_scrollFlags="scroll|enterAlways"
            app:popupTheme="@style/ThemeOverlay.AppCompat.Light" />

    </android.support.design.widget.AppBarLayout>

    <TextView
        android:id="@+id/net_error_view"
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:fadingEdge="none"
        android:gravity="center"
        android:text="접속이 원활하지 않습니다"
        android:visibility="gone"
        />

    <!- android:fillViewport="true"- >
    <!- android:nestedScrollingEnabled="false"- >
    <android.support.v4.widget.NestedScrollView
        android:layout_width="match_parent"
        android:layout_height="match_parent"
        android:layout_gravity="fill_vertical"
        app:layout_behavior="@string/appbar_scrolling_view_behavior">

        <!- <WebView- >
            <!- android:id="@+id/webview"- >
            <!- android:layout_width="match_parent"- >
            <!- android:layout_height="match_parent"/>- >

            <WebView
                android:id="@+id/activity_main_webview"
                android:fadingEdge="none"
                android:layout_width="match_parent"
                android:layout_height="match_parent"
                >

            </WebView>


    </android.support.v4.widget.NestedScrollView>
</android.support.design.widget.CoordinatorLayout>
```

### 문자열
```
- 문자열 자르기, 특정 문자 기준으로 가져가기

// @를 기준으로 문자열을 추출할 것이다.
String mail = "abced@naver.com";

// 먼저 @ 의 인덱스를 찾는다 - 인덱스 값: 5
int idx = mail.indexOf("@"); 

// @ 앞부분을 추출
// substring은 첫번째 지정한 인덱스는 포함하지 않는다.
// 아래의 경우는 첫번째 문자열인 a 부터 추출된다.
String mail1 = mail.substring(0, idx);

// 뒷부분을 추출
// 아래 substring은 @ 바로 뒷부분인 n부터 추출된다.
String mail2 = mail.substring(idx+1);

System.out.println("mail1 : "+mail1);
System.out.println("mail2 : "+mail2);


출처: http://all-record.tistory.com/118 [세상의 모든 기록]

```


```
- 문자치환

String a = "무궁화 삼천리 화려강산 대한사람 대한으로 길이 보전하세 ";	
//replaceAll([기존문자],[바꿀문자])
a= a.replaceAll("대한", "민국");
System.out.println(a);
//결과값 : 무궁화 삼천리 화려강산 민국사람 민국으로 길이 보전하세
```
### 화면회전, portrait, landscape, rotate, oncreate
android:configChanges="keyboardHidden|orientation"  

### 백터 vector 에러 안드로이드 minsdk 16

    defaultConfig {
        vectorDrawables.useSupportLibrary = true


### EditText 키보드 내리기,창내리기
```
InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);
imm.hideSoftInputFromWindow(EditText.getWindowToken(), 0);

출처: http://itpangpang.xyz/304 [ITPangPang]
```

### 문자열 리소스
```
& : &amp;
< : &lt;
> : &gt;
' : &apos;
" : &quot;
출처 : http://www.w3schools.com/html/html_entities.asp
```
### 퍼미션 여러개

퍼미션요청 코드 소스 :
https://stackoverflow.com/questions/34342816/android-6-0-multiple-permissions

```

// The request code used in ActivityCompat.requestPermissions()
// and returned in the Activity's onRequestPermissionsResult()
int PERMISSION_ALL = 1; 
String[] PERMISSIONS = {
  android.Manifest.permission.READ_CONTACTS, 
  android.Manifest.permission.WRITE_CONTACTS, 
  android.Manifest.permission.WRITE_EXTERNAL_STORAGE, 
  android.Manifest.permission.READ_SMS, 
  android.Manifest.permission.CAMERA
};

if(!hasPermissions(this, PERMISSIONS)){
    ActivityCompat.requestPermissions(this, PERMISSIONS, PERMISSION_ALL);
}

public static boolean hasPermissions(Context context, String... permissions) {
    if (context != null && permissions != null) {
        for (String permission : permissions) {
            if (ActivityCompat.checkSelfPermission(context, permission) != PackageManager.PERMISSION_GRANTED) {
                return false;
            }
        }
    }
    return true;
}
```


```
    /**
     * Prompts the user for permission to use the device location.
     */
    private void getPermission(){

            ActivityCompat.requestPermissions(getActivity(),
                    new String[]{android.Manifest.permission.ACCESS_FINE_LOCATION,
                                        Manifest.permission.CALL_PHONE
                    },
                    1000);

    }

```
```
    private void getPermission(){


        //    <uses-permission android:name="android.permission.INTERNET" />
        //    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
        //    <uses-permission android:name="android.permission.READ_PHONE_STATE" />
        //    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
        //    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />

        ActivityCompat.requestPermissions(RemoteLifeActivity.this,
                new String[]{Manifest.permission.INTERNET,
                        Manifest.permission.ACCESS_NETWORK_STATE,
                        Manifest.permission.READ_PHONE_STATE,
                        Manifest.permission.WRITE_EXTERNAL_STORAGE,
                        Manifest.permission.READ_EXTERNAL_STORAGE
                },
                1000);

    }
```
```

### 앱 종료하기
```
    public void actionExit() {

        AlertDialog.Builder dlg = new AlertDialog.Builder(this);
        //dlg.setTitle("버튼 1개 대화상자"); // 제목
        dlg.setMessage(getString(R.string.action_exit_question)); // 내용
        //dlg.setIcon(R.drawable.ic_launcher); // 아이콘

        dlg.setNegativeButton(getString(R.string.message_yes), new  DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int which) {
                // onClick 메소드 매개변수가 DialogInterface 여야하네.
                //Toast.makeText(dlg.this, "good",0).show();


                moveTaskToBack(true);
                finish();

                //출처: http://whose.tistory.com/443 [Whose Tistory?!]
            }
        });

        dlg.setPositiveButton(getString(R.string.message_no), new  DialogInterface.OnClickListener() {
            public void onClick(DialogInterface dialog, int which) {
                // onClick 메소드 매개변수가 DialogInterface 여야하네.
                //Toast.makeText(this, "종료",0).show();

            }
        });

        dlg.show(); // 보이다

    }
```

### 핑거푸시, pingerpush
```
1. 내꺼 github 다운받기
2. projects - app - src - main - assets 
#APP_KEY = 핑거푸시 App key
#APP_SECRET = 핑거푸시 App Secret
#GOOGLE_PROJECT_ID = FCM 발신자(Sender) ID, 포스트맨 넣었던거 넣으
바꾸기
3. build 후 핑거푸시 계정에 active 계정 1 뜨는지확인
4. 푸시알림 해보기
```

기타옵션   
```
자동 푸시 (Automated Push Notification)

자동 푸시란
앱 제공자 서버의 고객DB와 핑거 푸시 서버의 디바이스 ID를 매칭하여
앱 사용자(회원)의 활동이나 상태의 변화에 따라 자동으로 발송되도록
설정한 알림으로, 보다 밀착된 고객 관리가 가능합니다.

[활용 가능한 분야]
전체 (회원가입, 생일 축하, 등급 업그레이드, 포인트 적립 및 소멸 안내 등)
온라인 쇼핑 (결제 알림, 배송 알림, 쿠폰 발행, 장바구니 상품 품절/마감 알림, 재입고 알림 등)
오프라인 매장 (예약 확인, 방문고객 감사, 스탬프 적립 등)
이러닝 (학습진도 관리, 콘텐츠 업데이트 알림 등)

타겟팅 푸시 (Targeted Push Notification)

타겟팅 푸시란
앱 제공자가 서버에서 직접 타겟팅 하여 발송하는 푸시 알림으로, 고객별 맞춤형 정보 제공이 가능합니다.
[활용 가능한 분야]
연령/성별/지역에 따른 고객별 추천상품 안내
회원등급별 할인율 차등 적용된 쿠폰 발송
특정 상품 구매자 대상 공지
```

### inputstream <-> filepath, 인풋스트림, 파일패스
InputStream is = new FileInputStream(strDir);  

### 안드로이드 메뉴, 툴바
```
    @Override
    public boolean onOptionsItemSelected(MenuItem item) {
        //return super.onOptionsItemSelected(item);
        switch (item.getItemId()) {
            case R.id.action_settings:
                // User chose the "Settings" item, show the app settings UI...
                Toast.makeText(getApplicationContext(), "환경설정 버튼 클릭됨", Toast.LENGTH_LONG).show();
                return true;

            default:
                // If we got here, the user's action was not recognized.
                // Invoke the superclass to handle it.
                Toast.makeText(getApplicationContext(), "나머지 버튼 클릭됨", Toast.LENGTH_LONG).show();
                return super.onOptionsItemSelected(item);

        }
    }
    ```

```
@Override
public boolean onCreateOptionsMenu(Menu menu) {
    // Inflate the menu, this adds items to the action bar if it is present.
    getMenuInflater().inflate(R.menu.main2, menu);
    return true;
}

    public void setToolbar(){

        toolbar = (Toolbar) findViewById(R.id.toolbar);

        setSupportActionBar(toolbar);
        if (getSupportActionBar() != null) {
            getSupportActionBar().setTitle("Main Page");
        }

        toolbar.setSubtitle("Test Subtitle");
        toolbar.inflateMenu(R.menu.menu);
    }
    
    <?xml version="1.0" encoding="utf-8"?>
<menu xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto">

    <item
        android:id="@+id/menu_share"
        android:icon="@drawable/ic_share"
        android:orderInCategory="100"
        app:showAsAction="always"
        android:title="Setting" />

    <item
        android:id="@+id/menu_menu"
        android:icon="@drawable/ic_menu"
        android:orderInCategory="200"
        app:showAsAction="always"
        android:title="Setting" />

</menu>

```

### 안드로이드 백버튼,뒤로가기, 홈버튼
```
        getSupportActionBar().setDisplayHomeAsUpEnabled(true);
        getSupportActionBar().setHomeAsUpIndicator(getResources().getDrawable(R.drawable.ic_back_main));
```
```
    @Override
    public boolean onOptionsItemSelected(MenuItem item) {

        int i = item.getItemId();

        if(i == android.R.id.home) {
            onBackPressed();
            overridePendingTransition(0,0); //if Activitiy conversioned, no animation
            return true;
        }

        return super.onOptionsItemSelected(item);
    }
```
### 색깔 소스
getResources().getColor(R.color.white)  

### Edittext focuse 해제
```
android:focusable="true"
 android:focusableInTouchMode="true"
출처: http://gogorchg.tistory.com/entry/Android-EditText-자동-포커스-제거 [항상 초심으로]
```

### BottomNavtionView 위아래줄, 밑줄
```
    <android.support.design.widget.BottomNavigationView
        android:id="@+id/bottom_navigation"
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:layout_alignParentBottom="true"
        app:itemBackground="@drawable/my_background_bottom_layer"
        app:itemIconTint="@color/color_main"
        app:itemTextColor="@color/gray"
        app:menu="@menu/bottom_navigation"
        app:layout_insetEdge="bottom"
        app:elevation="8dp"
        />
```

my_background_bottom_layer  
```
<layer-list xmlns:android="http://schemas.android.com/apk/res/android">
    <item>
        <shape android:shape="rectangle">
            <solid android:color="#d7d7d7" />
        </shape>
    </item>
    <item android:top="1dp">
        <shape android:shape="rectangle">
            <solid android:color="@color/white" />
        </shape>
    </item>
</layer-list>
```

### recoding, file, uri로 삭제하기
```
                    AlertDialog.Builder alert_confirm = new AlertDialog.Builder(context);
                    alert_confirm.setMessage("녹음파일을 삭제하시겠습니까?").setCancelable(false).setPositiveButton("확인",
                            new DialogInterface.OnClickListener() {
                                @Override
                                public void onClick(DialogInterface dialog, int which) {
                                    // 'YES'

                                    int position = getAdapterPosition();
                                    Recording recording = recordingArrayList.get(position);

                                    Uri uri = Uri.parse(recording.getUri());
                                    File file = new File(uri.getPath());

                                    if( file.exists() ){
                                        if(file.delete()){
                                            System.out.println("파일삭제 성공");
                                            recordingArrayList.remove(position);
                                        }else{
                                            System.out.println("파일삭제 실패");
                                        }
                                    }else{
                                        System.out.println("파일이 존재하지 않습니다.");
                                    }

                                    notifyItemChanged(position);
                                    notifyDataSetChanged();

                                }
                            }).setNegativeButton("취소",
                            new DialogInterface.OnClickListener() {
                                @Override
                                public void onClick(DialogInterface dialog, int which) {
                                    // 'No'
                                    return;
                                }
                            });
                    AlertDialog alert = alert_confirm.create();
                    alert.show();
```
### 플로팅액션버튼 floatingactionbutton
```
                                <android.support.design.widget.FloatingActionButton
                                    android:layout_centerInParent="true"
                                    android:layout_width="wrap_content"
                                    android:layout_height="wrap_content"
                                    android:id="@+id/btn_1"
                                    android:backgroundTint="#12FFF7"
                                    app:elevation="6dp"
                                    app:borderWidth="0dp"
                                    android:src="@drawable/ic_radio_button_checked_black_24dp"

                                    />
```
코드로 색깔 못바꿈
그냥 눌럿을떄 효과? 정도
```
                       btn1.setBackgroundTintList(ColorStateList.valueOf(Color.BLUE));  
                        btn1.setRippleColor(Color.BLUE);  
			```

### 날짜 선택, 글자클릭, 날짜 초이스, 데이트픽커
```
    private DatePickerDialog datePickerDialog;
    DatePickerDialog.OnDateSetListener date;
    final Calendar myCalendar = Calendar.getInstance();
```

```

        date = new
                DatePickerDialog.OnDateSetListener() {

                    @Override
                    public void onDateSet(DatePicker view, int year, int monthOfYear,
                                          int dayOfMonth) {
                        // TODO Auto-generated method stub
                        myCalendar.set(Calendar.YEAR, year);
                        myCalendar.set(Calendar.MONTH, monthOfYear);
                        myCalendar.set(Calendar.DAY_OF_MONTH, dayOfMonth);

                        String myFormat = "MM/dd/yy"; //In which you need put here
                        SimpleDateFormat sdf = new SimpleDateFormat(myFormat, Locale.US);
                        btnDateNext.setText(sdf.format(myCalendar.getTime()));
                    }

                };


```

```
        btnDateNext.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {

                new DatePickerDialog(ReservationActivity.this, date, myCalendar
                        .get(Calendar.YEAR), myCalendar.get(Calendar.MONTH),
                        myCalendar.get(Calendar.DAY_OF_MONTH)).show();

            }
        });

```

### 키해시
https://developers.kakao.com/docs/android

### 안드로이드 다음 API 지도
개발자 및 앱 등록 :  
https://developers.kakao.com/

오류해결 :  
https://blog.naver.com/jogilsang/221393218449

SDK 다운 및 예제 :  
http://apis.map.daum.net/android/guide/

```
    public void setDaumMapCurrentLocation(double latitude, double longitude) {

        // 중심점 변경
        mapView.setMapCenterPoint(MapPoint.mapPointWithGeoCoord(latitude, longitude), true);

        // 줌 레벨 변경
        mapView.setZoomLevel(4, true);
        
        // 중심점 변경 + 줌 레벨 변경
        //mapView.setMapCenterPointAndZoomLevel(MapPoint.mapPointWithGeoCoord(latitude, longitude), 9, true);
        
        // 줌 인
        mapView.zoomIn(true);
        
        // 줌 아웃
        //mapView.zoomOut(true);

        // 마커 생성
        setDaumMapCurrentMarker();

    }
    
    public void setDaumMapCurrentMarker(){

        MapPOIItem marker = new MapPOIItem();
        marker.setItemName("현재 위치");
        marker.setTag(0);
        marker.setMapPoint(MapPoint.mapPointWithGeoCoord(latitude, longitude));
        marker.setMarkerType(MapPOIItem.MarkerType.BluePin); // 기본으로 제공하는 BluePin 마커 모양.
        marker.setSelectedMarkerType(MapPOIItem.MarkerType.RedPin); // 마커를 클릭했을때, 기본으로 제공하는 RedPin 마커 모양.

        mapView.addPOIItem(marker);


    }
```

### svg -> vector 변환
변환 사이트 :  
http://inloop.github.io/svg2android/

### 나인패치 작업하기

3번쨰 파일 색깔 체워서 각각 수정하고,
에러뜰수있음. 나인패치에러고 다시 

### gradient (그래디언트)
앵글별 정리 :
https://blog.naver.com/jogilsang/221393957129

참고사이트 :  
https://uigradients.com/#FacebookMessenger

참고소스 :  
```
<?xml version="1.0" encoding="utf-8"?>
<shape xmlns:android="http://schemas.android.com/apk/res/android"
    android:shape="rectangle"
    >

    <gradient
        android:startColor="#00c6ff"
        android:endColor="#0072ff"
        android:angle="270"
        android:type="linear"
        ></gradient>
</shape>
```

### 리사이클러뷰 RecyclerView 마지막,최하단 움직이기
```
recyclerview의 scrollToPosition 를 이용하여 이동 
mPingListAtapter.add(PingContent.createItem(mIndex++, (String) data)); 
mPingList.scrollToPosition(mPingListAtapter.getItemCount() - 1);
```

### 위치정보 가져오기
```
Geocoder 설명 
https://m.blog.naver.com/PostView.nhn?blogId=trylsj&logNo=220708881021&proxyReferer=https%3A%2F%2Fwww.google.co.kr%2F#

위도,경도 예제( 
코드 따로넣어야함 )
http://bitsoul.tistory.com/135

getContryname() : 국가명  
getAdminArea() : 시  
getLocality() : 인천시 서구 -> 인천시  
getSubLocality() : 인천시 서구 -> 서구  
getThoroughfare() : 동  
getSubThoroughfare() : 번지  
getFeatureName() : 번지  
getAddressLine(0).toString() // 국가명 시 군 구 동 번지  

// 위치제공자 권한 true,false 
public class MainActivity extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        // 위치기반 어플리케이션 : 사용자의 위치를 활용한 어플리케이션
        // 폰에서 위치정보를 얻는 방법
        // 1. GPS - 위성에서 정보를 받아 삼각측량으로 위치를 계산,
        //           정확하다, 건물 안에서는 안된다
        // 2. 3G망 - 인접된 전화기지국에서오는 전파의 시간 차이로 위치를 계산,
        //          실내에서도 가능
        // 3. WiFi 의 AP

        // ■ 위치정보를 사용하려면, 권한 설정을 해야함 AndroidManifest.xml
        //           android.permission.ACCESS_FINE_LOCATION

        TextView tv = (TextView)findViewById(R.id.textView2);

        LocationManager lm = (LocationManager)getSystemService(Context.LOCATION_SERVICE);
        // 위치관리자 객체를 얻어온다

//        lm.getBestProvider(criteria, enabledOnly)
        List<String> list = lm.getAllProviders(); // 위치제공자 모두 가져오기

        String str = ""; // 출력할 문자열
        for (int i = 0; i < list.size(); i++) {
            str += "위치제공자 : " + list.get(i) + ", 사용가능여부 -"
                    + lm.isProviderEnabled(list.get(i)) +"\n";
        }
        tv.setText(str);
    } // end of onCreate
} // end of class
출처: http://bitsoul.tistory.com/130?category=623707 [Happy Programmer~]

Geocoder 주소가져오기(위도,경도 넣으면)
   public static String getCompleteAddressString(Context context, double LATITUDE, double LONGITUDE) {
        String strAdd = "";
        Geocoder geocoder = new Geocoder(context, Locale.getDefault());
        try {
            List<Address> addresses = geocoder.getFromLocation(LATITUDE, LONGITUDE, 1);
            if (addresses != null) {
                Address returnedAddress = addresses.get(0);
                StringBuilder strReturnedAddress = new StringBuilder("");


                for (int i = 0; i <= returnedAddress.getMaxAddressLineIndex(); i++) {
                    strReturnedAddress.append(returnedAddress.getAddressLine(i)).append("\n");
                }
                strAdd = strReturnedAddress.toString();
                Log.w("MyCurrentloctionaddress", strReturnedAddress.toString());
            } else {
                Log.w("MyCurrentloctionaddress", "No Address returned!");
            }
        } catch (Exception e) {
            e.printStackTrace();
            Log.w("MyCurrentloctionaddress", "Canont get Address!");
        }

        // "대한민국 " 글자 지워버림
        strAdd = strAdd.substring(5);

        return strAdd;
    }

```

### 공유하기
```
Intent msg = new Intent(Intent.ACTION_SEND);
msg.addCategory(Intent.CATEGORY_DEFAULT);
msg.putExtra(Intent.EXTRA_SUBJECT,"주제");
msg.putExtra(Intent.EXTRA_TEXT,"내용");
msg.putExtra(Intent.EXTRA_TITLE,"제목");
msg.setType("text/plain");
startActivity(Intent.createChooser(msg, "공유"));
```

```
    <string name="text_share_head">
 &lt;카카대리운전 어플추천&gt;\n
 쓰면 쓸수록 이익이 되는 전국민 필수어플\n
 ☞ 가입 축하금 5,000원 적립\n
 ☞ 추천시 추천인에게 1,000원 적립\n
 ☞ 나의 이용금액의 10퍼센트 적립\n
 ☞ 추천인 이용시 3퍼센트 추가적립\n
 ☞ 각지역별로 적립금이 다릅니다(혜택정보참조)\n
 ☞ 적립금은 10,500원이상시 10,000원 단위로 출금가능합니다.\n

&lt;추천방법&gt;
 어플실행후 &lt;설정&gt; - &lt;추천인등록&gt; - &lt;추천인휴대폰번호&gt;에 추천인 전화번호 </string>

    <string name="text_share_tail">
 를 입력해주세요\n\n
안드로이드 고객님은\n
https://play.google.com/store/apps/details?id=kr.co.kodc.yadaeri&amp;referrer=01063313034\n
아이폰 고객님은\n
https://itunes.apple.com/app/id1374885875?mt=8</string>
```

link share :  
```
        // 공유하기
        btnShareToOthers.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View v) {

                Intent msg = new Intent(Intent.ACTION_SEND);

                msg.addCategory(Intent.CATEGORY_DEFAULT);

                //msg.putExtra(Intent.EXTRA_SUBJECT,"주제");

                msg.putExtra(Intent.EXTRA_TEXT, getString(R.string.text_share_head) +
                        getString(R.string.data_phone) +
                        getString(R.string.text_share_tail));

                msg.putExtra(Intent.EXTRA_TITLE, "공유하기");

                msg.setType("text/plain");

                startActivity(Intent.createChooser(msg, "공유"));

            }
        });
```

### 전화걸기
```
<string name="data_phone">tel:1111111</string>
startActivity(new Intent("android.intent.action.CALL", Uri.parse(tel)));
startActivity(new Intent("android.intent.action.DIAL", Uri.parse(tel)));
http://mainia.tistory.com/4884
```

### 퍼미션 권한(Permission)
source :  
https://www.simplifiedcoding.net/audio-recording-android-example/

```
    <!- Required Permissions- >
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
    // 녹음 레코드
    <uses-permission android:name="android.permission.RECORD_AUDIO" />
    // 절전 모드
    <uses-permission android:name="android.permission.WAKE_LOCK" />

```

### 주소록에서 번호 pick하기
```
1. 버튼등 OnClickListener등에 넣어 ﻿연락처 선택 화면이 나오게 합니다.
Intent intent = new Intent(Intent.ACTION_PICK);
	 intent.setData(ContactsContract.CommonDataKinds.Phone.CONTENT_URI);
         startActivityForResult(intent, 0);


2. 연락처 선택을 하면 결과값을 받아옵니다.
@Override
protected void onActivityResult(int requestCode, int resultCode, Intent data) {
if(resultCode == RESULT_OK)
{
Cursor cursor = getContentResolver().query(data.getData(), 
new String[]{ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME, 
ContactsContract.CommonDataKinds.Phone.NUMBER}, null, null, null);
cursor.moveToFirst();
 	                name = cursor.getString(0);        //0은 이름을 얻어옵니다.
           number = cursor.getString(1);   //1은 번호를 받아옵니다.
            cursor.close();
}
super.onActivityResult(requestCode, resultCode, data);
} 
출처: http://jhrun.tistory.com/150 [JHRunning]
```

### TextView 흐르게하기
```
txtCurrentPositionInfo = (TextView)item_fragment_tab_1_2.findViewById(R.id.item_text_1);
txtCurrentPositionInfo.setSelected(true);

android:ellipsize="marquee"
android:singleLine="true"
	    
```


### build 시간 줄이기  
http://gun0912.tistory.com/76

### 같은코드 서로 다른 앱 만들기  
http://gun0912.tistory.com/74

### Flavor 공식문서  
https://developer.android.com/studio/build/build-variants

### 로그 Log  

```
Log.v(); // Verbose
Log.d(); // Debug
Log.i(); // Info
Log.w(); // Warning
Log.e(); // Error

// 개발이 끝나고 난뒤 log값만 주석처리하면됨
public static void showLogDebug(String tag, String msg) {
    android.util.Log.d(tag, msg);
}

```

### ToggleButton
```
        <ToggleButton
            android:gravity="center"
            android:id="@+id/item_text_2"
            android:layout_alignParentRight="true"
            android:layout_centerVertical="true"
            android:padding="5dp"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:layout_marginRight="10dp"
            android:textOff="현재위치"
            android:textOn="현재위치"
            android:textColorHint="@color/gray"
            android:textColor="@color/gray"
            android:textSize="@dimen/text_small"
            android:drawableLeft="@drawable/ic_my_location_gray"
            android:background="@drawable/rounded_border_edittext"
            />
```


### AsyncTask

```
// 각 상속 메소드별 return형과 매개변수는 
// paramsType(doInBackground), progress, returnType(doInBackground)
public class async_url_list extends AsyncTask<List<String> , Integer, List<String>>


① onPreExecute()
AsyncTask의 작업은 메인 스레드에서 MyAsyncTask.execute(); 이런 식으로 실행시키는데 이 코드가 실행되면 작업 전에 제일 먼저 onPreExecute() 메서드가 호출된다. 본격적인 작업에 앞서 준비 작업을 진행하는 곳이라고 보면 된다. 

② doInBackground()
메인 작업이 실행되는 곳. 이곳에서 실행된 결괏값은 result에 담아 리턴했다.

③ onProgressUpdate()
doInBackground() 작업 도중 publishProgress()를 호출하면 onPressUpdate() 가 실행된다.
사용자에게 진행 상황을 알릴 때 사용된다. (ex. Toast 메시지 : "현재 진행 중입니다.")

④ onPostExecute()
doInBackground()에서 리턴 한 값을 전달받아서 매개변수로 사용한다.
넘겨받은 result를 통해 UI 변경 작업을 진행한다.(ex setText(result))...
[출처] AsyncTask 사용하기|작성자 스제
```

	### soundpool 사운드 효과 - 소리
	```
	    // SOUND
    SoundPool sp;
	
	public void setSoundPool() {
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {
            sp = new SoundPool.Builder().setMaxStreams(10).build();
        } else {
            sp = new SoundPool(10, AudioManager.STREAM_MUSIC, 1);
        }

    }


    public void playSound(int soundResId) {
        // context, resId, priority
        final int sound = sp.load(MainActivity.this, soundResId, 1);
        sp.setOnLoadCompleteListener(new SoundPool.OnLoadCompleteListener() {
            @Override
            public void onLoadComplete(SoundPool soundPool, int sampleId, int status) {
                // soundId, leftVolumn, rightVolumn, priority, loop, rate
                soundPool.play(sound, 1f, 1f, 0, 0, 1.0f);
            }
        });
    }
	```
	
